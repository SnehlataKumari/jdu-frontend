function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3LUQ":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("PSD3"),a=i.n(n),r=i("fXoL"),c=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"success",value:function(t){a.a.fire(t,"","success")}},{key:"error",value:function(t){a.a.fire(t,"","error")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Bwgp:function(t,e,i){"use strict";i.d(e,"a",(function(){return x}));var n=i("mrSG"),a=i("U7T7"),r=i("LvDl"),c=i("1kSV"),o=i("3Pt+"),s=i("PSD3"),l=i.n(s),b=i("fXoL"),u=i("st1q"),f=i("tyNb"),m=i("ofXK"),d=i("Wp6s"),h=i("bTqV"),p=i("NFeN");function g(t,e){if(1&t&&(b.Wb(0,"option",14),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function v(t,e){if(1&t){var i=b.Xb();b.Wb(0,"div"),b.Wb(1,"label"),b.Qc(2," Option: "),b.Rb(3,"input",15),b.Wb(4,"button",16),b.ic("click",(function(){b.Gc(i);var t=e.index;return b.mc(2).removeOption(t)})),b.Qc(5,"Remove"),b.Vb(),b.Vb(),b.Vb()}if(2&t){var n=e.index;b.Cb(3),b.tc("formControlName",n)}}function C(t,e){if(1&t){var i=b.Xb();b.Wb(0,"div",2),b.Wb(1,"form",3),b.Wb(2,"mat-card",4),b.Wb(3,"select",5),b.Oc(4,g,2,2,"option",6),b.Vb(),b.Rb(5,"input",7),b.Wb(6,"div",8),b.Wb(7,"h3",9),b.Qc(8,"Options"),b.Wb(9,"button",10),b.ic("click",(function(){return b.Gc(i),b.mc().addOption()})),b.Wb(10,"mat-icon"),b.Qc(11,"add"),b.Vb(),b.Wb(12,"span"),b.Qc(13,"Add Options"),b.Vb(),b.Vb(),b.Vb(),b.Oc(14,v,6,1,"div",11),b.Vb(),b.Vb(),b.Wb(15,"button",12),b.ic("click",(function(){return b.Gc(i),b.mc().save()})),b.Qc(16,"Save"),b.Vb(),b.Wb(17,"button",13),b.ic("click",(function(){return b.Gc(i),b.mc().dismiss("Save click")})),b.Qc(18,"Cancel"),b.Vb(),b.Vb(),b.Vb()}if(2&t){var n=b.mc();b.Cb(1),b.tc("formGroup",n.questionForm),b.Cb(3),b.tc("ngForOf",n.questionKeys),b.Cb(10),b.tc("ngForOf",n.options.controls)}}function V(t,e){if(1&t&&(b.Wb(0,"div"),b.Wb(1,"b"),b.Qc(2),b.Vb(),b.Qc(3),b.Vb()),2&t){var i=b.mc(),n=i.index,a=i.$implicit;b.Cb(2),b.Sc("Question ",n+1,": "),b.Cb(1),b.Sc(" ",a.title,"")}}function y(t,e){if(1&t&&(b.Wb(0,"li"),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i," ")}}function W(t,e){if(1&t){var i=b.Xb();b.Wb(0,"mat-card",30),b.Wb(1,"ol"),b.Oc(2,y,2,1,"li",11),b.Vb(),b.Wb(3,"div",31),b.Wb(4,"button",12),b.ic("click",(function(){b.Gc(i);var t=b.mc().$implicit;return b.mc(5).showAnswers(t)})),b.Qc(5,"View Answers"),b.Vb(),b.Wb(6,"button",13),b.ic("click",(function(){b.Gc(i);var t=b.mc().$implicit;return b.mc(5).deleteQuestion(t)})),b.Qc(7,"Delete"),b.Vb(),b.Vb(),b.Vb()}if(2&t){var n=b.mc().$implicit;b.Cb(2),b.tc("ngForOf",n.options)}}function O(t,e){1&t&&(b.Wb(0,"ngb-panel"),b.Oc(1,V,4,2,"ng-template",28),b.Oc(2,W,8,1,"ng-template",29),b.Vb())}function k(t,e){if(1&t&&(b.Wb(0,"ngb-accordion",26,27),b.Oc(2,O,3,0,"ngb-panel",11),b.Vb()),2&t){var i=b.mc(2).$implicit,n=b.mc(2);b.Cb(2),b.tc("ngForOf",n.catogoryWiseQuestions[i])}}function S(t,e){if(1&t){var i=b.Xb();b.Wb(0,"button",24),b.ic("click",(function(){b.Gc(i);var t=b.mc().$implicit;return b.mc(2).addNewQuestion(t)})),b.Wb(1,"mat-icon"),b.Qc(2,"add"),b.Vb(),b.Qc(3,"Add new question"),b.Vb(),b.Oc(4,k,3,1,"ngb-accordion",25)}if(2&t){var n=b.mc().$implicit,a=b.mc(2);b.Cb(4),b.tc("ngIf",a.catogoryWiseQuestions&&a.catogoryWiseQuestions[n])}}var Q=function(t){return{"active-tab":t}};function w(t,e){if(1&t&&(b.Wb(0,"li",21),b.Wb(1,"a",22),b.Qc(2),b.Vb(),b.Oc(3,S,5,1,"ng-template",23),b.Vb()),2&t){var i=e.$implicit,n=e.index,a=b.mc(2);b.tc("ngbNavItem",n+1),b.Cb(1),b.tc("ngClass",b.xc(3,Q,n+1===a.active)),b.Cb(1),b.Sc(" ",i," ")}}function F(t,e){if(1&t){var i=b.Xb();b.Ub(0),b.Wb(1,"ul",17,18),b.ic("activeIdChange",(function(t){return b.Gc(i),b.mc().active=t})),b.Oc(3,w,4,5,"li",19),b.Vb(),b.Rb(4,"div",20),b.Tb()}if(2&t){var n=b.Cc(2),a=b.mc();b.Cb(1),b.tc("activeId",a.active),b.Cb(2),b.tc("ngForOf",a.questionKeys),b.Cb(1),b.tc("ngbNavOutlet",n)}}var x=function(){var t=function(){function t(e,i,n,r,c){_classCallCheck(this,t),this.suggestionsService=e,this.modalService=i,this.fb=n,this.router=r,this.activatedRoute=c,this.QUESTION_CATEGORY=a.e,this.active=1,this.closeResult="",this.createMode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.questionKeys=Object(a.h)(a.e),console.log(this.questionKeys),this.getAllSchemes(),this.fetchQuestions(),this.questionForm=this.fb.group({title:["",o.y.required],description:[""],category:["",o.y.required],options:this.fb.array([])})}},{key:"getAllSchemes",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.suggestionsService.getAllScheme().toPromise();case 2:e=t.sent,this.schemes=e.data,this.questionKeys=this.schemes.map((function(t){return t.title})),console.log(this.schemes);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"fetchQuestions",value:function(){var t=this;this.suggestionsService.getAllQuestionsWithAnswers().subscribe((function(e){t.catogoryWiseQuestions=Object(r.groupBy)(e,"category")}))}},{key:"addOption",value:function(){this.options.push(this.fb.control(""))}},{key:"deleteQuestion",value:function(t){var e=this;this.suggestionsService.deleteQuestion(t).subscribe((function(t){e.fetchQuestions(),l.a.fire("","Response saved successgully!","success")}))}},{key:"dismiss",value:function(t){this.createMode=!1}},{key:"save",value:function(){var t=this,e=this.questionForm.value;""!==e.title?e.options.length<2?l.a.fire("","There should be atleast 2 options","error"):this.suggestionsService.createQuestion(e).subscribe((function(e){t.fetchQuestions(),l.a.fire("","Response saved successgully!","success"),t.createMode=!1})):l.a.fire("","Title field cant be blank","error")}},{key:"removeOption",value:function(t){this.options.removeAt(t)}},{key:"addNewQuestion",value:function(t){this.createMode=!0,this.questionForm.patchValue({category:t})}},{key:"getDismissReason",value:function(t){return t===c.a.ESC?"by pressing ESC":t===c.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(t)}},{key:"showAnswers",value:function(t){this.router.navigate([t._id,"answers"],{relativeTo:this.activatedRoute})}},{key:"options",get:function(){return this.questionForm.get("options")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.Qb(u.a),b.Qb(c.c),b.Qb(o.e),b.Qb(f.c),b.Qb(f.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["app-suggestion-questions"]],decls:2,vars:2,consts:[["class","col-lg-4 col-md-6 question-container",4,"ngIf"],[4,"ngIf"],[1,"col-lg-4","col-md-6","question-container"],[3,"formGroup"],[1,"mb10"],["formControlName","category","id","exampleFormControlSelect1",1,"medium-input","width-100"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","title","id","title","placeholder","Question Title",1,"medium-input","width-100"],["formArrayName","options",1,"mb10"],[1,"add-options"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",1,"ml10",3,"click"],[3,"value"],["type","text",3,"formControlName"],["mat-stroked-button","","color","warn",1,"ml10",3,"click"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink","",1,"tab-links",3,"ngClass"],["ngbNavContent",""],["mat-raised-button","",1,"mb10",3,"click"],["activeIds","ngb-panel-0",4,"ngIf"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"max-w"],[1,"mb10","ml20"]],template:function(t,e){1&t&&(b.Oc(0,C,19,3,"div",0),b.Oc(1,F,5,3,"ng-container",1)),2&t&&(b.tc("ngIf",e.createMode),b.Cb(1),b.tc("ngIf",!e.createMode))},directives:[m.m,o.A,o.p,o.i,d.a,o.x,o.o,o.h,m.l,o.c,o.d,h.b,p.a,o.t,o.z,c.e,c.i,c.g,c.h,m.k,c.f,c.b,c.k,c.m,c.l],styles:["a[_ngcontent-%COMP%]{background-color:#217922}.card-body[_ngcontent-%COMP%]{border:2px solid #000}.active-tab[_ngcontent-%COMP%], .tab-links[_ngcontent-%COMP%]:focus, .tab-links[_ngcontent-%COMP%]:hover{color:#217922;border-color:#398439;border-bottom-width:0}.active-tab[_ngcontent-%COMP%]{background-color:#eee}.ml10[_ngcontent-%COMP%]{margin-left:10px}.mb10[_ngcontent-%COMP%]{margin-bottom:10px}.ml20[_ngcontent-%COMP%]{margin-left:20px}.add-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.max-w[_ngcontent-%COMP%]{max-width:700px}"]}),t}()},JuEE:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("U7T7"),a=i("fXoL"),r=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return n.f[t].label||"Unkown Role"}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Pb({name:"role",type:t,pure:!0}),t}()},TqWN:function(t,e,i){"use strict";var n=i("mrSG"),a=i("+0xr"),r=i("M9IT"),c=i("LvDl"),o=i("0IaG"),s=i("3Pt+"),l=i("U7T7"),b=i("fXoL"),u=i("H+bZ"),f=i("N/25"),m=i("Wp6s"),d=i("kmnG"),h=i("qFsG"),p=i("ofXK"),g=i("d3UM"),v=i("bTqV"),C=i("FKr1");function V(t,e){1&t&&(b.Wb(0,"p"),b.Wb(1,"mat-form-field"),b.Rb(2,"input",17),b.Vb(),b.Vb())}function y(t,e){if(1&t&&(b.Wb(0,"mat-option",18),b.Qc(1),b.Vb()),2&t){var i=e.$implicit,n=b.mc();b.tc("value",i),b.Cb(1),b.Sc(" ",n.displayRoles[i].label," ")}}function W(t,e){if(1&t&&(b.Wb(0,"mat-option",18),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function O(t,e){if(1&t&&(b.Wb(0,"mat-option",18),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function k(t,e){if(1&t&&(b.Wb(0,"mat-option",18),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function S(t,e){if(1&t&&(b.Wb(0,"mat-option",18),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function Q(t,e){if(1&t&&(b.Wb(0,"p",19),b.Qc(1),b.Vb()),2&t){var i=b.mc();b.Cb(1),b.Sc(" ",i.error," ")}}var w,F,x=((w=function(){function t(e,i,n,a,r){_classCallCheck(this,t),this.fb=e,this.api=i,this.authService=n,this.dialogRef=a,this.data=r,this.isCreateMode=!0,this.branchList=l.a,this.designationList=l.b,this.districtMap=l.d,this.districtList=Reflect.ownKeys(l.d),this.vidhanSabhaList=[],console.log(r.classList)}return _createClass(t,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnInit",value:function(){var t=this;this.initialValues=this.data.user,this.isCreateMode=""===this.initialValues._id;var e=this.authService.getLogginedUserRole();this.displayRoles="SUPER_ADMIN"===e?Object(c.pick)(l.f,["ADMIN"]):Object(c.pick)(l.f,Object(c.filter)(Reflect.ownKeys(l.f),(function(t){return!("ADMIN"===t||"SUPER_ADMIN"===t)}))),this.keys=Reflect.ownKeys(this.displayRoles),this.form=this.fb.group({_id:[this.initialValues._id],name:[this.initialValues.name,s.y.required],email:[this.initialValues.email,s.y.email],mobileNumber:[this.initialValues.mobileNumber,[s.y.required,s.y.minLength(10),s.y.maxLength(10)]],role:[this.initialValues.role||Reflect.ownKeys(this.displayRoles)[0],s.y.required],branch:[this.initialValues.branch,s.y.required],designation:[this.initialValues.designation,s.y.required],district:[this.initialValues.district,s.y.required],vidhansabha:[this.initialValues.vidhansabha,s.y.required],username:[this.initialValues.username,s.y.required],password:[this.initialValues.password,s.y.required]}),this.form.controls.district.valueChanges.subscribe((function(e){t.vidhanSabhaList=t.districtMap[e].map((function(t){return t.Vidhansabha}))}))}},{key:"submit",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,i,a,r,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.form.valid){t.next=14;break}if(e=this.form.value,a=e._id,r=e.password,c=Object(n.b)(e,["_id","password"]),""!=e._id){t.next=9;break}return t.next=6,this.api.post(this.data.resourceUrl,Object.assign(Object.assign({},c),{password:r})).toPromise();case 6:i=t.sent,t.next=13;break;case 9:return o="".concat(this.data.resourceUrl,"/").concat(a),t.next=12,this.api.put(o,e).toPromise();case 12:i=t.sent;case 13:this.dialogRef.close(i);case 14:case"end":return t.stop()}}),t,this)})))}}]),t}()).\u0275fac=function(t){return new(t||w)(b.Qb(s.e),b.Qb(u.a),b.Qb(f.a),b.Qb(o.e),b.Qb(o.a))},w.\u0275cmp=b.Kb({type:w,selectors:[["app-create-user-form"]],inputs:{error:"error"},decls:55,vars:12,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Name","formControlName","name"],["type","text","matInput","","placeholder","User Name","formControlName","username"],["type","email","matInput","","placeholder","Email","formControlName","email"],["type","text","max","10","min","10","matInput","","placeholder","Mobile Number","formControlName","mobileNumber"],[4,"ngIf"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","branch"],["formControlName","designation"],["formControlName","district"],["formControlName","vidhansabha"],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],["type","password","matInput","","placeholder","Password","formControlName","password"],[3,"value"],[1,"error"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"mat-card"),b.Wb(2,"mat-card-title"),b.Qc(3),b.Vb(),b.Wb(4,"mat-card-content"),b.Wb(5,"form",1),b.ic("ngSubmit",(function(){return e.submit()})),b.Wb(6,"p"),b.Wb(7,"mat-form-field"),b.Rb(8,"input",2),b.Vb(),b.Vb(),b.Wb(9,"p"),b.Wb(10,"mat-form-field"),b.Rb(11,"input",3),b.Vb(),b.Vb(),b.Wb(12,"p"),b.Wb(13,"mat-form-field"),b.Rb(14,"input",4),b.Vb(),b.Vb(),b.Wb(15,"p"),b.Wb(16,"mat-form-field"),b.Rb(17,"input",5),b.Vb(),b.Vb(),b.Oc(18,V,3,0,"p",6),b.Wb(19,"p"),b.Wb(20,"mat-form-field"),b.Wb(21,"mat-label"),b.Qc(22,"Role"),b.Vb(),b.Wb(23,"mat-select",7),b.Oc(24,y,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Vb(),b.Wb(25,"p"),b.Wb(26,"mat-form-field"),b.Wb(27,"mat-label"),b.Qc(28,"Branch"),b.Vb(),b.Wb(29,"mat-select",9),b.Oc(30,W,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Vb(),b.Wb(31,"p"),b.Wb(32,"mat-form-field"),b.Wb(33,"mat-label"),b.Qc(34,"Designation"),b.Vb(),b.Wb(35,"mat-select",10),b.Oc(36,O,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Vb(),b.Wb(37,"p"),b.Wb(38,"mat-form-field"),b.Wb(39,"mat-label"),b.Qc(40,"District"),b.Vb(),b.Wb(41,"mat-select",11),b.Oc(42,k,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Vb(),b.Wb(43,"p"),b.Wb(44,"mat-form-field"),b.Wb(45,"mat-label"),b.Qc(46,"Vidhan Sabha"),b.Vb(),b.Wb(47,"mat-select",12),b.Oc(48,S,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Vb(),b.Oc(49,Q,2,1,"p",13),b.Wb(50,"div",14),b.Wb(51,"button",15),b.ic("click",(function(){return e.form.reset(e.initialValues)})),b.Qc(52,"Reset"),b.Vb(),b.Wb(53,"button",16),b.Qc(54),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Cb(3),b.Rc(e.isCreateMode?"Create User":"Update User"),b.Cb(2),b.tc("formGroup",e.form),b.Cb(13),b.tc("ngIf",e.isCreateMode),b.Cb(6),b.tc("ngForOf",e.keys),b.Cb(6),b.tc("ngForOf",e.branchList),b.Cb(6),b.tc("ngForOf",e.designationList),b.Cb(6),b.tc("ngForOf",e.districtList),b.Cb(6),b.tc("ngForOf",e.vidhanSabhaList),b.Cb(1),b.tc("ngIf",e.error),b.Cb(2),b.tc("disabled",!e.form.touched),b.Cb(2),b.tc("disabled",!e.form.valid),b.Cb(1),b.Rc(""==e.form.value._id?"Create":"Update"))},directives:[o.c,m.a,m.e,m.b,s.A,s.p,s.i,d.b,h.a,s.c,s.o,s.h,p.m,d.e,g.a,p.l,v.b,C.h],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),w),R=i("3LUQ"),_=((F=function(){function t(e,i,n){_classCallCheck(this,t),this.api=e,this.alert=i,this.dialogRef=n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onFileChange",value:function(t){this.selectedFile=t.target.files[0]}},{key:"uploadFile",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.selectedFile){t.next=13;break}return(e=new FormData).append("file",this.selectedFile),t.prev=3,t.next=6,this.api.post("/users/migrate-users",e).toPromise();case 6:this.alert.success("Users created successfully!"),this.dialogRef.close(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),this.alert.error(t.t0.error.message);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})))}}]),t}()).\u0275fac=function(t){return new(t||F)(b.Qb(u.a),b.Qb(R.a),b.Qb(o.e))},F.\u0275cmp=b.Kb({type:F,selectors:[["app-upload-users-csv-form"]],decls:6,vars:0,consts:[[1,"form-group"],["for","exampleFormControlFile1"],["type","file","accept",".csv","id","exampleFormControlFile1",1,"form-control-file",3,"change"],["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"label",1),b.Qc(2,"Select CSV"),b.Vb(),b.Wb(3,"input",2),b.ic("change",(function(t){return e.onFileChange(t)})),b.Vb(),b.Vb(),b.Wb(4,"button",3),b.ic("click",(function(){return e.uploadFile()})),b.Qc(5,"Upload Users"),b.Vb())},directives:[v.b],styles:[""]}),F),N=i("edFq"),L=i("NFeN"),M=i("bSwM"),I=i("JuEE");function A(t,e){if(1&t){var i=b.Xb();b.Wb(0,"div"),b.Wb(1,"button",28),b.ic("click",(function(){return b.Gc(i),b.mc().onAddResource()})),b.Wb(2,"mat-icon"),b.Qc(3,"add"),b.Vb(),b.Qc(4," Add "),b.Vb(),b.Wb(5,"button",29),b.ic("click",(function(){return b.Gc(i),b.mc().onUploadCSV()})),b.Wb(6,"mat-icon"),b.Qc(7,"publish"),b.Vb(),b.Qc(8," Upload CSV "),b.Vb(),b.Vb()}}function D(t,e){if(1&t&&(b.Wb(0,"mat-option",30),b.Qc(1),b.Vb()),2&t){var i=e.$implicit,n=b.mc();b.tc("value",i),b.Cb(1),b.Sc(" ",n.displayRoles[i].label," ")}}function U(t,e){if(1&t&&(b.Wb(0,"mat-option",30),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function P(t,e){if(1&t&&(b.Wb(0,"mat-option",30),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function q(t,e){if(1&t&&(b.Wb(0,"mat-option",30),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function T(t,e){if(1&t&&(b.Wb(0,"mat-option",30),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.tc("value",i),b.Cb(1),b.Sc(" ",i," ")}}function $(t,e){if(1&t&&(b.Wb(0,"mat-form-field"),b.Wb(1,"mat-label"),b.Qc(2,"Vidhan Sabha"),b.Vb(),b.Wb(3,"mat-select",7),b.Wb(4,"mat-option"),b.Qc(5,"None"),b.Vb(),b.Oc(6,T,2,2,"mat-option",8),b.Vb(),b.Vb()),2&t){var i=b.mc();b.Cb(3),b.tc("formControl",i.vidhanSabhaFilter),b.Cb(3),b.tc("ngForOf",i.vidhanSabhaList)}}function j(t,e){if(1&t){var i=b.Xb();b.Wb(0,"th",32),b.Wb(1,"mat-checkbox",33),b.ic("change",(function(t){b.Gc(i);var e=b.mc(2);return t?e.masterToggle():null})),b.Vb(),b.Vb()}if(2&t){var n=b.mc(2);b.Cb(1),b.tc("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function K(t,e){if(1&t){var i=b.Xb();b.Wb(0,"td",34),b.Wb(1,"mat-checkbox",35),b.ic("click",(function(t){return b.Gc(i),t.stopPropagation()}))("change",(function(t){b.Gc(i);var n=e.$implicit,a=b.mc(2);return t?a.selection.toggle(n):null})),b.Vb(),b.Vb()}if(2&t){var n=e.$implicit,a=b.mc(2);b.Cb(1),b.tc("checked",a.selection.isSelected(n))}}function G(t,e){1&t&&(b.Ub(0,31),b.Oc(1,j,2,2,"th",12),b.Oc(2,K,2,1,"td",13),b.Tb())}function E(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Name "),b.Vb())}function X(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i.name," ")}}function B(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Role "),b.Vb())}function J(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.nc(2,"role"),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",b.oc(2,1,i.role)," ")}}function z(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Branch "),b.Vb())}function H(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i.branch," ")}}function Y(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Designation "),b.Vb())}function Z(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i.designation," ")}}function tt(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," District "),b.Vb())}function et(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i.district," ")}}function it(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Vidhan Sabha "),b.Vb())}function nt(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i.vidhansabha," ")}}function at(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Username "),b.Vb())}function rt(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",i.username," ")}}function ct(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Email "),b.Vb())}function ot(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",null==i?null:i.email," ")}}function st(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Mobile Number "),b.Vb())}function lt(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",null==i?null:i.mobileNumber," ")}}function bt(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Created on "),b.Vb())}function ut(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.nc(2,"date"),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",b.oc(2,1,i.createdAt)," ")}}function ft(t,e){1&t&&(b.Ub(0,36),b.Oc(1,bt,2,0,"th",12),b.Oc(2,ut,3,3,"td",13),b.Tb())}function mt(t,e){1&t&&(b.Wb(0,"th",32),b.Qc(1," Update on "),b.Vb())}function dt(t,e){if(1&t&&(b.Wb(0,"td",34),b.Qc(1),b.nc(2,"date"),b.Vb()),2&t){var i=e.$implicit;b.Cb(1),b.Sc(" ",b.oc(2,1,i.updatedAt)," ")}}function ht(t,e){1&t&&(b.Ub(0,37),b.Oc(1,mt,2,0,"th",12),b.Oc(2,dt,3,3,"td",13),b.Tb())}function pt(t,e){1&t&&(b.Wb(0,"th",32),b.Wb(1,"div",39),b.Qc(2,"Actions"),b.Vb(),b.Vb())}function gt(t,e){if(1&t){var i=b.Xb();b.Wb(0,"td",34),b.Wb(1,"div",40),b.Wb(2,"button",41),b.ic("click",(function(){b.Gc(i);var t=e.$implicit;return b.mc(2).onEdit(t)})),b.Qc(3,"Edit"),b.Vb(),b.Wb(4,"button",42),b.ic("click",(function(){b.Gc(i);var t=e.$implicit;return b.mc(2).onDelete(t)})),b.Qc(5,"Delete"),b.Vb(),b.Vb(),b.Vb()}}function vt(t,e){1&t&&(b.Ub(0,38),b.Oc(1,pt,3,0,"th",12),b.Oc(2,gt,6,0,"td",13),b.Tb())}function Ct(t,e){1&t&&b.Rb(0,"tr",43)}function Vt(t,e){1&t&&b.Rb(0,"tr",44)}i.d(e,"a",(function(){return Ot}));var yt,Wt=function(){return[5,10,20]},Ot=((yt=function(){function t(e,i,n){_classCallCheck(this,t),this.resourceService=e,this.authService=i,this.dialog=n,this.resourceUrl="/users",this.type="user-management",this.isMessage=!1,this.branchList=l.a,this.designationList=l.b,this.districtMap=l.d,this.districtList=Reflect.ownKeys(l.d),this.vidhanSabhaList=[],this.nameFilter=new s.f(""),this.roleFilter=new s.f(""),this.branchFilter=new s.f(""),this.designationFilter=new s.f(""),this.districtFilter=new s.f(""),this.vidhanSabhaFilter=new s.f(""),this.filterValues={name:"",role:"",branch:"",designation:"",district:"",vidhanSabha:""}}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isMessage="messages"==this.type,e=this.authService.getLogginedUserRole(),this.displayRoles="SUPER_ADMIN"===e?Object(c.pick)(l.f,["ADMIN"]):Object(c.pick)(l.f,Object(c.filter)(Reflect.ownKeys(l.f),(function(t){return!("ADMIN"===t||"SUPER_ADMIN"===t)}))),this.keys=Reflect.ownKeys(this.displayRoles),t.next=5,this.resourceService.fetchAll(this.resourceUrl).toPromise();case 5:i=t.sent,this.bindFilterListeners(),this.displayedColumns=[].concat(_toConsumableArray(this.isMessage?["select"]:[]),["name","branch","designation","district","vidhansabha","userName","email","mobileNumber","role"],_toConsumableArray(this.isMessage?[]:["createdAt"]),_toConsumableArray(this.isMessage?[]:["updatedAt"]),_toConsumableArray(this.isMessage?[]:["action"])),this.resetList(i.data),this.dataSource.filterPredicate=this.createFilter();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"bindFilterListeners",value:function(){var t=this;this.nameFilter.valueChanges.subscribe((function(e){t.filterValues.name=e||"",t.dataSource.filter=JSON.stringify(t.filterValues)})),this.roleFilter.valueChanges.subscribe((function(e){t.filterValues.role=e||"",t.dataSource.filter=JSON.stringify(t.filterValues)})),this.branchFilter.valueChanges.subscribe((function(e){t.filterValues.branch=e||"",t.dataSource.filter=JSON.stringify(t.filterValues)})),this.designationFilter.valueChanges.subscribe((function(e){t.filterValues.designation=e||"",t.dataSource.filter=JSON.stringify(t.filterValues)})),this.districtFilter.valueChanges.subscribe((function(e){t.filterValues.district=e||"",t.vidhanSabhaList=t.districtMap[e]?t.districtMap[e].map((function(t){return t.Vidhansabha})):[],t.dataSource.filter=JSON.stringify(t.filterValues)})),this.vidhanSabhaFilter.valueChanges.subscribe((function(e){t.filterValues.vidhanSabha=e||"",t.dataSource.filter=JSON.stringify(t.filterValues)}))}},{key:"createFilter",value:function(){return function(t,e){var i=JSON.parse(e);return-1!==t.name.toLowerCase().indexOf(i.name.toLowerCase())&&-1!==t.role.toString().toLowerCase().indexOf(i.role.toLowerCase())&&-1!==t.branch.toLowerCase().indexOf(i.branch.toLowerCase())&&-1!==t.designation.toLowerCase().indexOf(i.designation.toLowerCase())&&-1!==t.district.toLowerCase().indexOf(i.district.toLowerCase())&&-1!==t.vidhansabha.toLowerCase().indexOf(i.vidhanSabha.toLowerCase())}}},{key:"reFetchResourceList",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resourceService.fetchAll(this.resourceUrl).toPromise();case 2:e=t.sent,this.resetList(e.data);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"resetList",value:function(t){var e=this.filterBasedOnRole(t);this.dataSource=new a.k(e),this.dataSource.paginator=this.paginator}},{key:"filterBasedOnRole",value:function(t){var e="SUPER_ADMIN"===this.authService.getLogginedUserRole()?{role:"ADMIN"}:function(t){return!("ADMIN"==t.role||"SUPER_ADMIN"==t.role)};return Object(c.filter)(t,e)}},{key:"getClassName",value:function(t){return console.log(this.classMap[t]),this.classMap.get(t)||"Class has been deleted"}},{key:"onUploadCSV",value:function(){var t=this;this.dialog.open(_,{width:"600px",data:{}}).afterClosed().subscribe((function(e){t.reFetchResourceList()}))}},{key:"openDialogue",value:function(t){var e=this;this.dialog.open(x,{width:"600px",data:{resourceUrl:this.resourceUrl,classList:this.classList,user:t}}).afterClosed().subscribe((function(t){e.reFetchResourceList()}))}},{key:"onAddResource",value:function(){this.openDialogue({_id:"",name:"",mobileNumber:"",class:"",branch:"",designation:"",district:"",vidhansabha:"",isSubscribed:""})}},{key:"onUpdate",value:function(){this.reFetchResourceList()}},{key:"onDelete",value:function(t){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resourceService.delete(this.resourceUrl,t).toPromise();case 2:this.reFetchResourceList();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"onEdit",value:function(t){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openDialogue(t);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}},{key:"isAllSelected",value:function(){return this.selection.selected.length===this.dataSource.data.length}},{key:"masterToggle",value:function(){var t=this;this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach((function(e){return t.selection.select(e)}))}}]),t}()).\u0275fac=function(t){return new(t||yt)(b.Qb(N.a),b.Qb(f.a),b.Qb(o.b))},yt.\u0275cmp=b.Kb({type:yt,selectors:[["app-users-page"]],viewQuery:function(t,e){var i;1&t&&b.Mc(r.a,!0),2&t&&b.Bc(i=b.jc())&&(e.paginator=i.first)},inputs:{resourceUrl:"resourceUrl",type:"type",selection:"selection"},decls:75,vars:21,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],[4,"ngIf"],[1,"filters"],[1,"filter"],["matInput","",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-table","",3,"dataSource"],["matColumnDef","select",4,"ngIf"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","branch"],["matColumnDef","designation"],["matColumnDef","district"],["matColumnDef","vidhansabha"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","mobileNumber"],["matColumnDef","createdAt",4,"ngIf"],["matColumnDef","updatedAt",4,"ngIf"],["matColumnDef","action","sticky","true",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-raised-button","","color","primary",1,"ml20",3,"click"],["mat-raised-button","","color","primary",1,"ml10",3,"click"],[3,"value"],["matColumnDef","select"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],[1,"ml20"],[1,"example-flex-container2"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"h3",2),b.Qc(3),b.Vb(),b.Oc(4,A,9,0,"div",3),b.Vb(),b.Wb(5,"div",4),b.Qc(6," Filters:\xa0\xa0 "),b.Wb(7,"mat-form-field",5),b.Wb(8,"mat-label"),b.Qc(9,"Search name"),b.Vb(),b.Rb(10,"input",6),b.Vb(),b.Wb(11,"mat-form-field"),b.Wb(12,"mat-label"),b.Qc(13,"Role"),b.Vb(),b.Wb(14,"mat-select",7),b.Wb(15,"mat-option"),b.Qc(16,"None"),b.Vb(),b.Oc(17,D,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Wb(18,"mat-form-field"),b.Wb(19,"mat-label"),b.Qc(20,"Branch"),b.Vb(),b.Wb(21,"mat-select",7),b.Wb(22,"mat-option"),b.Qc(23,"None"),b.Vb(),b.Oc(24,U,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Wb(25,"mat-form-field"),b.Wb(26,"mat-label"),b.Qc(27,"Designation"),b.Vb(),b.Wb(28,"mat-select",7),b.Wb(29,"mat-option"),b.Qc(30,"None"),b.Vb(),b.Oc(31,P,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Wb(32,"mat-form-field"),b.Wb(33,"mat-label"),b.Qc(34,"District"),b.Vb(),b.Wb(35,"mat-select",7),b.Wb(36,"mat-option"),b.Qc(37,"None"),b.Vb(),b.Oc(38,q,2,2,"mat-option",8),b.Vb(),b.Vb(),b.Oc(39,$,7,2,"mat-form-field",3),b.Vb(),b.Wb(40,"table",9),b.Oc(41,G,3,0,"ng-container",10),b.Ub(42,11),b.Oc(43,E,2,0,"th",12),b.Oc(44,X,2,1,"td",13),b.Tb(),b.Ub(45,14),b.Oc(46,B,2,0,"th",12),b.Oc(47,J,3,3,"td",13),b.Tb(),b.Ub(48,15),b.Oc(49,z,2,0,"th",12),b.Oc(50,H,2,1,"td",13),b.Tb(),b.Ub(51,16),b.Oc(52,Y,2,0,"th",12),b.Oc(53,Z,2,1,"td",13),b.Tb(),b.Ub(54,17),b.Oc(55,tt,2,0,"th",12),b.Oc(56,et,2,1,"td",13),b.Tb(),b.Ub(57,18),b.Oc(58,it,2,0,"th",12),b.Oc(59,nt,2,1,"td",13),b.Tb(),b.Ub(60,19),b.Oc(61,at,2,0,"th",12),b.Oc(62,rt,2,1,"td",13),b.Tb(),b.Ub(63,20),b.Oc(64,ct,2,0,"th",12),b.Oc(65,ot,2,1,"td",13),b.Tb(),b.Ub(66,21),b.Oc(67,st,2,0,"th",12),b.Oc(68,lt,2,1,"td",13),b.Tb(),b.Oc(69,ft,3,0,"ng-container",22),b.Oc(70,ht,3,0,"ng-container",23),b.Oc(71,vt,3,0,"ng-container",24),b.Oc(72,Ct,1,0,"tr",25),b.Oc(73,Vt,1,0,"tr",26),b.Vb(),b.Rb(74,"mat-paginator",27),b.Vb()),2&t&&(b.Cb(3),b.Sc(" ",e.isMessage?"Sent to":"Users"," "),b.Cb(1),b.tc("ngIf",!e.isMessage),b.Cb(6),b.tc("formControl",e.nameFilter),b.Cb(4),b.tc("formControl",e.roleFilter),b.Cb(3),b.tc("ngForOf",e.keys),b.Cb(4),b.tc("formControl",e.branchFilter),b.Cb(3),b.tc("ngForOf",e.branchList),b.Cb(4),b.tc("formControl",e.designationFilter),b.Cb(3),b.tc("ngForOf",e.designationList),b.Cb(4),b.tc("formControl",e.districtFilter),b.Cb(3),b.tc("ngForOf",e.districtList),b.Cb(1),b.tc("ngIf",e.vidhanSabhaList.length>0),b.Cb(1),b.tc("dataSource",e.dataSource),b.Cb(1),b.tc("ngIf",e.isMessage),b.Cb(28),b.tc("ngIf",!e.isMessage),b.Cb(1),b.tc("ngIf",!e.isMessage),b.Cb(1),b.tc("ngIf",!e.isMessage),b.Cb(1),b.tc("matHeaderRowDef",e.displayedColumns),b.Cb(1),b.tc("matRowDefColumns",e.displayedColumns),b.Cb(1),b.tc("pageSizeOptions",b.wc(20,Wt)))},directives:[p.m,d.b,d.e,h.a,s.c,s.o,s.g,g.a,C.h,p.l,a.j,a.c,a.e,a.b,a.g,a.i,r.a,v.b,L.a,a.d,M.a,a.a,a.f,a.h],pipes:[I.a,p.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}.ml20[_ngcontent-%COMP%]{margin-left:20px}.filters[_ngcontent-%COMP%], .ml10[_ngcontent-%COMP%]{margin-left:10px}.filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:10px}"]}),yt)},edFq:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fXoL"),a=i("H+bZ"),r=function(){var t=function(){function t(e){_classCallCheck(this,t),this.api=e}return _createClass(t,[{key:"fetchAll",value:function(t){return this.api.get(t)}},{key:"delete",value:function(t,e){return this.api.delete("".concat(t,"/").concat(e._id))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.ec(a.a))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"k+vH":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("LvDl"),a=i("fXoL"),r=i("tyNb"),c=i("st1q"),o=i("ofXK"),s=i("Wp6s"),l=i("LPYB");function b(t,e){1&t&&(a.Ub(0),a.Qc(1,"Loading..."),a.Tb())}function u(t,e){if(1&t&&(a.Wb(0,"li",17),a.Qc(1),a.Vb()),2&t){var i=e.$implicit;a.Cb(1),a.Sc(" ",i," ")}}function f(t,e){if(1&t&&(a.Wb(0,"tr"),a.Wb(1,"th",18),a.Qc(2),a.Vb(),a.Wb(3,"td"),a.Qc(4),a.Vb(),a.Wb(5,"td"),a.Qc(6),a.Vb(),a.Wb(7,"td"),a.Qc(8),a.Vb(),a.Wb(9,"td"),a.Qc(10),a.Vb(),a.Wb(11,"td"),a.Qc(12),a.Vb(),a.Wb(13,"td"),a.Qc(14),a.Vb(),a.Vb()),2&t){var i=e.$implicit,n=e.index;a.Cb(2),a.Rc(n+1),a.Cb(2),a.Rc(i.answer),a.Cb(2),a.Rc(i.name),a.Cb(2),a.Rc(i.mobileNumber),a.Cb(2),a.Rc(i.destrict),a.Cb(2),a.Rc(i.vidhanSabha),a.Cb(2),a.Rc(i.comment)}}function m(t,e){if(1&t&&(a.Ub(0),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"mat-card",3),a.Wb(4,"div",4),a.Qc(5),a.Vb(),a.Wb(6,"ol",5),a.Oc(7,u,2,1,"li",6),a.Vb(),a.Vb(),a.Vb(),a.Wb(8,"div",7),a.Wb(9,"mat-card",8),a.Wb(10,"div",9),a.Rb(11,"canvas",10),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"div",11),a.Wb(13,"div",12),a.Wb(14,"mat-card"),a.Wb(15,"div",13),a.Wb(16,"table",14),a.Wb(17,"thead"),a.Wb(18,"tr"),a.Wb(19,"th",15),a.Qc(20,"#"),a.Vb(),a.Wb(21,"th",15),a.Qc(22,"Answer"),a.Vb(),a.Wb(23,"th",15),a.Qc(24,"Name"),a.Vb(),a.Wb(25,"th",15),a.Qc(26,"Mobile Number"),a.Vb(),a.Wb(27,"th",15),a.Qc(28,"District"),a.Vb(),a.Wb(29,"th",15),a.Qc(30,"Vidhan Sabha"),a.Vb(),a.Wb(31,"th",15),a.Qc(32,"Comment"),a.Vb(),a.Vb(),a.Vb(),a.Wb(33,"tbody"),a.Oc(34,f,15,7,"tr",16),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Tb()),2&t){var i=a.mc();a.Cb(5),a.Rc(i.question.title),a.Cb(2),a.tc("ngForOf",i.question.options),a.Cb(4),a.tc("datasets",i.barChartData)("labels",i.labels)("chartType",i.barChartType)("options",i.barChartOptions),a.Cb(23),a.tc("ngForOf",i.answers)}}var d=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.route=e,this.suggestionService=i,this.barChartOptions={responsive:!0,title:{text:"Options selected!"}},this.barChartLabels=["Answers"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.loading=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe((function(e){t.questionId=e.get("questionId")})),this.suggestionService.getQuestionWithAnswer(this.questionId).subscribe((function(e){var i=e.data;t.question=i.question,t.answers=i.answers;var a=Object(n.countBy)(t.answers,"answer");t.barChartData=[{data:t.question.options.map((function(t){return a[t]||0})),label:"Number of Answers"}],t.labels=t.question.options,t.loading=!1}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(r.a),a.Qb(c.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["app-answers"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-12","col-lg-4","question"],[2,"min-height","250px"],[2,"margin-bottom","10px","font-size","16px"],[2,"margin-left","-20px","font-size","16px"],["style","margin-top: 5px;",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-8","graph"],[2,"min-height","200px","display","flex","justify-content","center"],[2,"width","500px"],["baseChart","",3,"datasets","labels","chartType","options"],[1,"row","question-table"],[1,"col-md-12"],[2,"display","block"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[2,"margin-top","5px"],["scope","row"]],template:function(t,e){1&t&&(a.Oc(0,b,2,0,"ng-container",0),a.Oc(1,m,35,7,"ng-container",0)),2&t&&(a.tc("ngIf",e.loading),a.Cb(1),a.tc("ngIf",!e.loading))},directives:[o.m,s.a,o.l,l.a],styles:["@media only screen and (min-width:1200px){.question[_ngcontent-%COMP%]{margin-right:0;padding-right:0}}@media only screen and (max-width:1200px){.graph[_ngcontent-%COMP%]{margin-top:10px}}.question-table[_ngcontent-%COMP%]{margin-top:10px}@media only screen and (min-width:1200px){.question-table[_ngcontent-%COMP%]{margin-top:50px}}"]}),t}()},"omi/":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),a=i("g23F"),r=i("ofXK"),c=i("bTqV"),o=i("NFeN"),s=function(t){return{"color-change":t}},l=function(){var t=function(){function t(e){_classCallCheck(this,t),this.documentsService=e,this.done=!1,this.onUploadSuccess=new n.o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onFileChange",value:function(t){this.file=t.target.files[0],this.documentsService.progress.next(0),this.done=!1}},{key:"upload",value:function(){var t=this;if(this.file){var e=new FormData;e.append("file",this.file),this.documentsService.uploadFile(e).subscribe((function(e){t.file=null,e&&(t.done=!0),t.onUploadSuccess.emit(e)}))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Qb(a.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-upload"]],outputs:{onUploadSuccess:"onUploadSuccess"},decls:12,vars:13,consts:[[1,"custom-file"],["type","file","id","customFile",1,"custom-file-input",3,"change"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"ngClass"],["mat-raised-button","","type","button",3,"click"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"input",1),n.ic("change",(function(t){return e.onFileChange(t)})),n.Vb(),n.Vb(),n.Wb(2,"div",2),n.Wb(3,"div",3),n.nc(4,"async"),n.nc(5,"async"),n.Qc(6),n.nc(7,"async"),n.Vb(),n.Vb(),n.Wb(8,"button",4),n.ic("click",(function(){return e.upload()})),n.Wb(9,"mat-icon"),n.Qc(10,"publish"),n.Vb(),n.Qc(11,"Click to upload"),n.Vb()),2&t&&(n.Cb(3),n.Nc("width",n.oc(4,5,e.documentsService.progress)+"%"),n.tc("ngClass",n.xc(11,s,e.done)),n.Db("aria-valuenow",n.oc(5,7,e.documentsService.progress)),n.Cb(3),n.Sc(" ",n.oc(7,9,e.documentsService.progress),"% "))},directives:[r.k,c.b,o.a],pipes:[r.b],styles:[".color-change[_ngcontent-%COMP%]{background-color:#4caf50}"]}),t}()},vQ30:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("fXoL"),a=i("N/25"),r=i("MutI"),c=i("ofXK"),o=i("NFeN"),s=i("tyNb");function l(t,e){if(1&t&&(n.Wb(0,"a",3),n.Wb(1,"mat-icon",4),n.Qc(2),n.Vb(),n.Qc(3),n.Vb()),2&t){var i=e.$implicit;n.tc("routerLink",i.link),n.Cb(2),n.Rc(i.icon),n.Cb(1),n.Sc("\xa0",i.title," ")}}var b=function(){var t=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onLogout",value:function(){this.authService.logout()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Qb(a.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-side-menu"]],inputs:{menuList:"menuList"},decls:6,vars:1,consts:[["mat-list-item","","class","menu-item","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",1,"menu-item",3,"click"],["aria-hidden","false","aria-label","Example home icon"],["mat-list-item","","routerLinkActive","active",1,"menu-item",3,"routerLink"],["aria-hidden","false","aria-label","Example thumbs up SVG icon"]],template:function(t,e){1&t&&(n.Wb(0,"mat-nav-list"),n.Oc(1,l,4,3,"a",0),n.Wb(2,"a",1),n.ic("click",(function(){return e.onLogout()})),n.Wb(3,"mat-icon",2),n.Qc(4,"power_settings_new"),n.Vb(),n.Qc(5,"\xa0Logout "),n.Vb(),n.Vb()),2&t&&(n.Cb(1),n.tc("ngForOf",e.menuList))},directives:[r.c,c.l,r.a,o.a,s.f,s.e],styles:[".menu-item[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}a.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08);color:rgba(0,0,0,.7)}"]}),t}()}}]);