function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/biI":function(t,e,n){"use strict";n.r(e);var i,c,o=n("ofXK"),a=n("tyNb"),r=n("fXoL"),s=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=r.Kb({type:i,selectors:[["app-super-admin"]],decls:1,vars:0,template:function(t,e){1&t&&r.Rb(0,"router-outlet")},directives:[a.f],styles:[""]}),i),b=n("N/25"),u=n("/t3+"),l=n("XhcP"),d=n("vQ30"),p=((c=function(){function t(e){_classCallCheck(this,t),this.authService=e,this.menuList=[{link:"/admin/users",title:"Manage Users",icon:"supervised_user_circle"},{link:"/admin/suggestions",title:"Manage suggestion questions",icon:"supervised_user_circle"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onLogout",value:function(){this.authService.logout()}}]),t}()).\u0275fac=function(t){return new(t||c)(r.Qb(b.a))},c.\u0275cmp=r.Kb({type:c,selectors:[["app-dashboard"]],decls:13,vars:1,consts:[["routerLink","/dashboard"],[1,"example-spacer"],[1,"btn","logout-button",3,"click"],[1,"example-container"],["mode","side","opened","",1,"example-sidenav"],["drawer",""],[3,"menuList"],[1,"dashboard-container"]],template:function(t,e){1&t&&(r.Wb(0,"mat-toolbar"),r.Wb(1,"mat-toolbar-row"),r.Wb(2,"a",0),r.Kc(3,"Admin Panel"),r.Vb(),r.Rb(4,"span",1),r.Wb(5,"a",2),r.ic("click",(function(){return e.onLogout()})),r.Kc(6,"Logout"),r.Vb(),r.Vb(),r.Vb(),r.Wb(7,"mat-drawer-container",3),r.Wb(8,"mat-drawer",4,5),r.Rb(10,"app-side-menu",6),r.Vb(),r.Wb(11,"div",7),r.Rb(12,"router-outlet"),r.Vb(),r.Vb()),2&t&&(r.Cb(10),r.rc("menuList",e.menuList))},directives:[u.a,u.c,a.d,l.b,l.a,d.a,a.f],styles:[".example-container[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,0,0,.5)}.dashboard-container[_ngcontent-%COMP%], .example-container[_ngcontent-%COMP%]{height:calc(100% - 64px)}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{width:223px}.dashboard-container[_ngcontent-%COMP%]{padding:16px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.logout-button[_ngcontent-%COMP%]{cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:#2b78fe}"]}),c),f=n("TqWN"),h=n("PCNd"),g=n("U7T7"),m=n("LvDl"),v=n("1kSV"),C=n("3Pt+"),W=n("PSD3"),y=n.n(W),V=n("st1q"),O=n("S/Mv");function w(t,e){if(1&t&&(r.Wb(0,"option",10),r.Rb(1,"app-constant",11),r.Vb()),2&t){var n=e.$implicit,i=r.mc(2);r.rc("value",n),r.Cb(1),r.rc("constant",i.QUESTION_CATEGORY)("isBadge",!1)("code",n)}}function k(t,e){if(1&t){var n=r.Xb();r.Wb(0,"div"),r.Wb(1,"label"),r.Kc(2," Option: "),r.Rb(3,"input",12),r.Wb(4,"button",8),r.ic("click",(function(){r.Bc(n);var t=e.index;return r.mc(2).removeOption(t)})),r.Kc(5,"Remove"),r.Vb(),r.Vb(),r.Vb()}if(2&t){var i=e.index;r.Cb(3),r.rc("formControlName",i)}}function I(t,e){if(1&t){var n=r.Xb();r.Ub(0),r.Wb(1,"form",1),r.Wb(2,"div",2),r.Wb(3,"select",3),r.Ic(4,w,2,4,"option",4),r.Vb(),r.Vb(),r.Wb(5,"div",2),r.Rb(6,"input",5),r.Vb(),r.Wb(7,"div",6),r.Wb(8,"h3"),r.Kc(9,"Options"),r.Vb(),r.Ic(10,k,6,1,"div",7),r.Wb(11,"button",8),r.ic("click",(function(){return r.Bc(n),r.mc().addOption()})),r.Kc(12,"Add Option"),r.Vb(),r.Vb(),r.Wb(13,"button",9),r.ic("click",(function(){return r.Bc(n),r.mc().save()})),r.Kc(14,"Save"),r.Vb(),r.Wb(15,"button",9),r.ic("click",(function(){return r.Bc(n),r.mc().dismiss("Save click")})),r.Kc(16,"Cancel"),r.Vb(),r.Vb(),r.Tb()}if(2&t){var i=r.mc();r.Cb(1),r.rc("formGroup",i.questionForm),r.Cb(3),r.rc("ngForOf",i.questionKeys),r.Cb(6),r.rc("ngForOf",i.options.controls)}}function K(t,e){if(1&t&&(r.Wb(0,"div"),r.Wb(1,"b"),r.Kc(2),r.Vb(),r.Kc(3),r.Vb()),2&t){var n=r.mc(),i=n.index,c=n.$implicit;r.Cb(2),r.Mc("Question ",i+1,": "),r.Cb(1),r.Mc(" ",c.title,"")}}function _(t,e){if(1&t&&(r.Wb(0,"li"),r.Kc(1),r.Vb()),2&t){var n=e.$implicit;r.Cb(1),r.Mc(" ",n," ")}}function M(t,e){if(1&t){var n=r.Xb();r.Wb(0,"button",8),r.ic("click",(function(){r.Bc(n);var t=r.mc().$implicit;return r.mc(5).deleteQuestion(t)})),r.Kc(1,"Delete"),r.Vb(),r.Wb(2,"button",8),r.ic("click",(function(){r.Bc(n);var t=r.mc().$implicit;return r.mc(5).showAnswers(t)})),r.Kc(3,"View Answers"),r.Vb(),r.Wb(4,"ol"),r.Ic(5,_,2,1,"li",7),r.Vb()}if(2&t){var i=r.mc().$implicit;r.Cb(5),r.rc("ngForOf",i.options)}}function Q(t,e){1&t&&(r.Wb(0,"ngb-panel"),r.Ic(1,K,4,2,"ng-template",23),r.Ic(2,M,6,1,"ng-template",24),r.Vb())}function q(t,e){if(1&t&&(r.Wb(0,"ngb-accordion",21,22),r.Ic(2,Q,3,0,"ngb-panel",7),r.Vb()),2&t){var n=r.mc(2).$implicit,i=r.mc(2);r.Cb(2),r.rc("ngForOf",i.catogoryWiseQuestions[n])}}function x(t,e){if(1&t){var n=r.Xb();r.Wb(0,"button",8),r.ic("click",(function(){r.Bc(n);var t=r.mc().$implicit;return r.mc(2).addNewQuestion(t)})),r.Kc(1,"Add new question"),r.Vb(),r.Ic(2,q,3,1,"ngb-accordion",20)}if(2&t){var i=r.mc().$implicit,c=r.mc(2);r.Cb(2),r.rc("ngIf",c.catogoryWiseQuestions&&c.catogoryWiseQuestions[i])}}function N(t,e){if(1&t&&(r.Wb(0,"li",17),r.Wb(1,"a",18),r.Rb(2,"app-constant",11),r.Vb(),r.Ic(3,x,3,1,"ng-template",19),r.Vb()),2&t){var n=e.$implicit,i=e.index,c=r.mc(2);r.rc("ngbNavItem",i+1),r.Cb(2),r.rc("constant",c.QUESTION_CATEGORY)("isBadge",!1)("code",n)}}function P(t,e){if(1&t){var n=r.Xb();r.Ub(0),r.Wb(1,"ul",13,14),r.ic("activeIdChange",(function(t){return r.Bc(n),r.mc().active=t})),r.Ic(3,N,4,4,"li",15),r.Vb(),r.Rb(4,"div",16),r.Tb()}if(2&t){var i=r.zc(2),c=r.mc();r.Cb(1),r.rc("activeId",c.active),r.Cb(2),r.rc("ngForOf",c.questionKeys),r.Cb(1),r.rc("ngbNavOutlet",i)}}var L,S=((L=function(){function t(e,n,i,c){_classCallCheck(this,t),this.suggestionsService=e,this.modalService=n,this.fb=i,this.router=c,this.QUESTION_CATEGORY=g.a,this.active=1,this.closeResult="",this.createMode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.questionKeys=Object(g.c)(g.a),this.fetchQuestions(),this.questionForm=this.fb.group({title:["",C.u.required],description:[""],category:["",C.u.required],options:this.fb.array([])})}},{key:"fetchQuestions",value:function(){var t=this;this.suggestionsService.getAllQuestionsWithAnswers().subscribe((function(e){t.catogoryWiseQuestions=Object(m.groupBy)(e,"category")}))}},{key:"addOption",value:function(){this.options.push(this.fb.control(""))}},{key:"deleteQuestion",value:function(t){var e=this;this.suggestionsService.deleteQuestion(t).subscribe((function(t){e.fetchQuestions(),y.a.fire("","Response saved successgully!","success")}))}},{key:"dismiss",value:function(t){this.createMode=!1}},{key:"save",value:function(){var t=this,e=this.questionForm.value;""!==e.title?e.options.length<2?y.a.fire("","There should be atleast 2 options","error"):this.suggestionsService.createQuestion(e).subscribe((function(e){t.fetchQuestions(),y.a.fire("","Response saved successgully!","success"),t.createMode=!1})):y.a.fire("","Title field cant be blank","error")}},{key:"removeOption",value:function(t){this.options.removeAt(t)}},{key:"addNewQuestion",value:function(t){this.createMode=!0,this.questionForm.patchValue({category:t})}},{key:"getDismissReason",value:function(t){return t===v.a.ESC?"by pressing ESC":t===v.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(t)}},{key:"showAnswers",value:function(t){this.router.navigate(["admin","questions",t._id,"answers"])}},{key:"options",get:function(){return this.questionForm.get("options")}}]),t}()).\u0275fac=function(t){return new(t||L)(r.Qb(V.a),r.Qb(v.c),r.Qb(C.e),r.Qb(a.b))},L.\u0275cmp=r.Kb({type:L,selectors:[["app-suggestion-questions"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup"],[1,"col-md-12"],["formControlName","category","id","exampleFormControlSelect1",1,"medium-input","width-100"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","title","id","title","placeholder","Question Title",1,"medium-input","width-100"],["formArrayName","options"],[4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"value"],[3,"constant","isBadge","code"],["type","text",3,"formControlName"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["activeIds","ngb-panel-0",4,"ngIf"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelTitle",""],["ngbPanelContent",""]],template:function(t,e){1&t&&(r.Ic(0,I,17,3,"ng-container",0),r.Ic(1,P,5,3,"ng-container",0)),2&t&&(r.rc("ngIf",e.createMode),r.Cb(1),r.rc("ngIf",!e.createMode))},directives:[o.m,C.w,C.m,C.g,C.t,C.l,C.f,o.l,C.c,C.d,C.q,C.v,O.a,v.e,v.i,v.g,v.h,v.f,v.b,v.k,v.m,v.l],styles:["a[_ngcontent-%COMP%]{background-color:#217922}.card-body[_ngcontent-%COMP%]{border:2px solid #000}"]}),L),F=n("LPYB");function T(t,e){1&t&&(r.Ub(0),r.Kc(1,"Loading..."),r.Tb())}function A(t,e){if(1&t&&(r.Wb(0,"li"),r.Kc(1),r.Vb()),2&t){var n=e.$implicit;r.Cb(1),r.Mc(" ",n," ")}}function R(t,e){if(1&t&&(r.Wb(0,"tr"),r.Wb(1,"th",11),r.Kc(2),r.Vb(),r.Wb(3,"td"),r.Kc(4),r.Vb(),r.Wb(5,"td"),r.Kc(6),r.Vb(),r.Wb(7,"td"),r.Kc(8),r.Vb(),r.Wb(9,"td"),r.Kc(10),r.Vb(),r.Wb(11,"td"),r.Kc(12),r.Vb(),r.Wb(13,"td"),r.Kc(14),r.Vb(),r.Vb()),2&t){var n=e.$implicit,i=e.index;r.Cb(2),r.Lc(i+1),r.Cb(2),r.Lc(n.answer),r.Cb(2),r.Lc(n.name),r.Cb(2),r.Lc(n.mobileNumber),r.Cb(2),r.Lc(n.destrict),r.Cb(2),r.Lc(n.vidhanSabha),r.Cb(2),r.Lc(n.comment)}}function B(t,e){if(1&t&&(r.Ub(0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Kc(3),r.Wb(4,"ol"),r.Ic(5,A,2,1,"li",3),r.Vb(),r.Vb(),r.Wb(6,"div",2),r.Wb(7,"div",4),r.Rb(8,"canvas",5),r.Vb(),r.Vb(),r.Vb(),r.Wb(9,"div",6),r.Wb(10,"div",7),r.Wb(11,"div",8),r.Wb(12,"table",9),r.Wb(13,"thead"),r.Wb(14,"tr"),r.Wb(15,"th",10),r.Kc(16,"#"),r.Vb(),r.Wb(17,"th",10),r.Kc(18,"Answer"),r.Vb(),r.Wb(19,"th",10),r.Kc(20,"Name"),r.Vb(),r.Wb(21,"th",10),r.Kc(22,"Mobile Number"),r.Vb(),r.Wb(23,"th",10),r.Kc(24,"District"),r.Vb(),r.Wb(25,"th",10),r.Kc(26,"Vidhan Sabha"),r.Vb(),r.Wb(27,"th",10),r.Kc(28,"Comment"),r.Vb(),r.Vb(),r.Vb(),r.Wb(29,"tbody"),r.Ic(30,R,15,7,"tr",3),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Tb()),2&t){var n=r.mc();r.Cb(3),r.Mc(" ",n.question.title," "),r.Cb(2),r.rc("ngForOf",n.question.options),r.Cb(3),r.rc("data",n.barChartData)("labels",n.labels)("chartType",n.barChartType)("options",n.barChartOptions),r.Cb(22),r.rc("ngForOf",n.answers)}}var $,D,E=[{path:"",component:s,children:[{path:"auth",loadChildren:function(){return Promise.resolve().then(n.bind(null,"Yj9t")).then((function(t){return t.AuthModule}))}},{path:"",component:p,children:[{path:"users",component:f.a},{path:"suggestions",component:S},{path:"questions/:questionId/answers",component:($=function(){function t(e,n){_classCallCheck(this,t),this.route=e,this.suggestionService=n,this.barChartOptions={responsive:!0,title:{text:"Options selected!"}},this.barChartLabels=["Answers"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.loading=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe((function(e){t.questionId=e.get("questionId")})),this.suggestionService.getQuestionWithAnswer(this.questionId).subscribe((function(e){var n=e.data;t.question=n.question,t.answers=n.answers;var i=Object(m.countBy)(t.answers,"answer");t.barChartData=t.question.options.map((function(t){return i[t]||0})),t.labels=t.question.options,t.loading=!1}))}}]),t}(),$.\u0275fac=function(t){return new(t||$)(r.Qb(a.a),r.Qb(V.a))},$.\u0275cmp=r.Kb({type:$,selectors:[["app-answers"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],[4,"ngFor","ngForOf"],[2,"display","block","height","200px","width","500px"],["baseChart","",3,"data","labels","chartType","options"],[1,"row",2,"margin-top","100px"],[1,"col-12"],[2,"display","block"],[1,"table","table-striped"],["scope","col"],["scope","row"]],template:function(t,e){1&t&&(r.Ic(0,T,2,0,"ng-container",0),r.Ic(1,B,31,7,"ng-container",0)),2&t&&(r.rc("ngIf",e.loading),r.Cb(1),r.rc("ngIf",!e.loading))},directives:[o.m,o.l,F.a],styles:[""]}),$)}]}]}],U=((D=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:D}),D.\u0275inj=r.Nb({factory:function(t){return new(t||D)},imports:[[h.a,a.e.forChild(E)],a.e]}),D);n.d(e,"SuperAdminModule",(function(){return X}));var j,X=((j=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:j}),j.\u0275inj=r.Nb({factory:function(t){return new(t||j)},imports:[[o.c,h.a,U]]}),j)}}]);