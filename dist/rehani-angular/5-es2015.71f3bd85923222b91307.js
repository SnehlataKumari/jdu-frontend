(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1a67":function(t,e,c){"use strict";c.r(e);var i=c("ofXK"),o=c("tyNb"),n=c("fXoL"),a=c("N/25"),r=c("/t3+"),s=c("XhcP"),l=c("MutI"),b=c("NFeN");function d(t,e){if(1&t&&(n.Ub(0,"a",1),n.Ub(1,"mat-icon",2),n.xc(2),n.Tb(),n.xc(3),n.Tb()),2&t){const t=e.$implicit;n.lc("routerLink",t.link),n.Cb(2),n.yc(t.icon),n.Cb(1),n.zc(" ",t.title," ")}}let u=(()=>{class t{constructor(){this.menuList=[{link:"/dashboard/classes",title:"Manage Classes",icon:"class"},{link:"/dashboard/chapter",title:"Manage Chapters",icon:"play_circle_outline"},{link:"/dashboard/users",title:"Manage Users",icon:"supervised_user_circle"},{link:"/dashboard/videos",title:"Manage Videos",icon:"play_circle_outline"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-side-menu"]],decls:2,vars:1,consts:[["mat-list-item","","class","menu-item","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","active",1,"menu-item",3,"routerLink"],["aria-hidden","false","aria-label","Example thumbs up SVG icon"]],template:function(t,e){1&t&&(n.Ub(0,"mat-nav-list"),n.wc(1,d,4,3,"a",0),n.Tb()),2&t&&(n.Cb(1),n.lc("ngForOf",e.menuList))},directives:[l.c,i.k,l.a,o.c,o.b,b.a],styles:[".menu-item[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}.menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:0 10px}a.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08);color:rgba(0,0,0,.7)}"]}),t})(),m=(()=>{class t{constructor(t){this.authService=t,this.showFiller=!1}ngOnInit(){}onLogout(){this.authService.afterLogout()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(a.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-admin-dashboard"]],decls:13,vars:0,consts:[["routerLink","/dashboard"],[1,"example-spacer"],[1,"btn","logout-button",3,"click"],[1,"example-container"],["mode","side","opened","",1,"example-sidenav"],["drawer",""],[1,"dashboard-container"]],template:function(t,e){1&t&&(n.Ub(0,"mat-toolbar"),n.Ub(1,"mat-toolbar-row"),n.Ub(2,"a",0),n.xc(3,"Rehani Physics"),n.Tb(),n.Pb(4,"span",1),n.Ub(5,"a",2),n.cc("click",(function(){return e.onLogout()})),n.xc(6,"Logout"),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"mat-drawer-container",3),n.Ub(8,"mat-drawer",4,5),n.Pb(10,"app-side-menu"),n.Tb(),n.Ub(11,"div",6),n.Pb(12,"router-outlet"),n.Tb(),n.Tb())},directives:[r.a,r.c,o.c,s.b,s.a,u,o.e],styles:[".example-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 64px);border:1px solid rgba(0,0,0,.5)}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{width:223px}.dashboard-container[_ngcontent-%COMP%]{padding:16px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.logout-button[_ngcontent-%COMP%]{cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:#2b78fe}"]}),t})();var p=c("mrSG"),f=c("+0xr"),h=c("M9IT"),g=c("0IaG"),U=c("3Pt+"),C=c("H+bZ"),w=c("Wp6s"),x=c("kmnG"),v=c("qFsG"),T=c("d3UM"),y=c("bSwM"),S=c("bTqV"),O=c("FKr1");function P(t,e){if(1&t&&(n.Ub(0,"mat-option",11),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.lc("value",t._id),n.Cb(1),n.zc(" ",t.name," ")}}function R(t,e){if(1&t&&(n.Ub(0,"p",12),n.xc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",t.error," ")}}let k=(()=>{class t{constructor(t,e,c,i){this.fb=t,this.api=e,this.dialogRef=c,this.data=i,console.log(i.classList)}onNoClick(){this.dialogRef.close()}ngOnInit(){this.initialValues=this.data.user,this.form=this.fb.group({_id:[this.data.user._id],name:[this.data.user.name,U.n.required],mobileNumber:[this.data.user.mobileNumber,U.n.required],class:[this.data.user.class,U.n.required],isSubscribed:[this.data.user.isSubscribed,U.n.required]})}submit(){return Object(p.a)(this,void 0,void 0,(function*(){if(this.form.valid){const t=this.form.value;let e;const{_id:c}=t,i=Object(p.b)(t,["_id"]);if(""==t._id)e=yield this.api.post(this.data.resourceUrl,i).toPromise();else{const i=`${this.data.resourceUrl}/${c}`;e=yield this.api.put(i,t).toPromise()}this.dialogRef.close(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.c),n.Ob(C.a),n.Ob(g.e),n.Ob(g.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-create-user-form"]],inputs:{error:"error"},decls:27,vars:7,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Name","formControlName","name"],["type","text","matInput","","placeholder","Mobile Number","formControlName","mobileNumber"],["formControlName","class"],[3,"value",4,"ngFor","ngForOf"],["formControlName","isSubscribed"],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],[3,"value"],[1,"error"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"mat-card"),n.Ub(2,"mat-card-title"),n.xc(3),n.Tb(),n.Ub(4,"mat-card-content"),n.Ub(5,"form",1),n.cc("ngSubmit",(function(){return e.submit()})),n.Ub(6,"p"),n.Ub(7,"mat-form-field"),n.Pb(8,"input",2),n.Tb(),n.Tb(),n.Ub(9,"p"),n.Ub(10,"mat-form-field"),n.Pb(11,"input",3),n.Tb(),n.Tb(),n.Ub(12,"p"),n.Ub(13,"mat-form-field"),n.Ub(14,"mat-label"),n.xc(15,"Class"),n.Tb(),n.Ub(16,"mat-select",4),n.wc(17,P,2,2,"mat-option",5),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"p"),n.Ub(19,"mat-checkbox",6),n.xc(20,"Is Subscribed"),n.Tb(),n.Tb(),n.wc(21,R,2,1,"p",7),n.Ub(22,"div",8),n.Ub(23,"button",9),n.cc("click",(function(){return e.form.reset(e.initialValues)})),n.xc(24,"Reset"),n.Tb(),n.Ub(25,"button",10),n.xc(26),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(3),n.yc(""==e.form.value._id?"Create User":"Update User"),n.Cb(2),n.lc("formGroup",e.form),n.Cb(12),n.lc("ngForOf",e.data.classList),n.Cb(4),n.lc("ngIf",e.error),n.Cb(2),n.lc("disabled",!e.form.touched),n.Cb(2),n.lc("disabled",e.form.invalid),n.Cb(1),n.yc(""==e.form.value._id?"Create":"Update"))},directives:[g.c,w.a,w.d,w.b,U.o,U.k,U.e,x.b,v.a,U.b,U.j,U.d,x.e,T.a,i.k,y.a,i.l,S.a,O.h],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})(),D=(()=>{class t{constructor(t){this.api=t}fetchAll(t){return this.api.get(t)}delete(t,e){return this.api.delete(`${t}/${e._id}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(C.a))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _(t,e){1&t&&(n.Ub(0,"button",2),n.Ub(1,"mat-icon"),n.xc(2,"check"),n.Tb(),n.Tb())}function M(t,e){1&t&&(n.Ub(0,"button",3),n.Ub(1,"mat-icon"),n.xc(2,"clear"),n.Tb(),n.Tb())}let I=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-boolean"]],inputs:{isValue:"isValue"},decls:2,vars:2,consts:[["mat-icon-button","","color","success","aria-label","Example icon button with a home icon",4,"ngIf"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",4,"ngIf"],["mat-icon-button","","color","success","aria-label","Example icon button with a home icon"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon"]],template:function(t,e){1&t&&(n.wc(0,_,3,0,"button",0),n.wc(1,M,3,0,"button",1)),2&t&&(n.lc("ngIf",e.isValue),n.Cb(1),n.lc("ngIf",!e.isValue))},directives:[i.l,S.a,b.a],styles:[""]}),t})();function F(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Name "),n.Tb())}function z(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.name," ")}}function A(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Mobile Number "),n.Tb())}function L(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.mobileNumber," ")}}function $(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Role "),n.Tb())}function N(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.role," ")}}function j(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Class "),n.Tb())}function V(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit,c=n.gc();n.Cb(1),n.zc(" ",c.getClassName(t.class)," ")}}function E(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Subscribed "),n.Tb())}function q(t,e){if(1&t&&(n.Ub(0,"td",20),n.Pb(1,"app-boolean",21),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.lc("isValue",t.isSubscribed)}}function G(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Block "),n.Tb())}function H(t,e){if(1&t&&(n.Ub(0,"td",20),n.Pb(1,"app-boolean",21),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.lc("isValue",t.isBlocked)}}function B(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Created on "),n.Tb())}function K(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.createdAt)," ")}}function Q(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Update on "),n.Tb())}function J(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.updatedAt)," ")}}function X(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Actions "),n.Tb())}function W(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",20),n.Ub(1,"div",22),n.Ub(2,"button",23),n.cc("click",(function(){n.qc(t);const c=e.$implicit;return n.gc().onEdit(c)})),n.Ub(3,"mat-icon"),n.xc(4,"create"),n.Tb(),n.Tb(),n.Ub(5,"button",24),n.cc("click",(function(){n.qc(t);const c=e.$implicit;return n.gc().onDelete(c)})),n.Ub(6,"mat-icon"),n.xc(7,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb()}}function Y(t,e){1&t&&n.Pb(0,"tr",25)}function Z(t,e){1&t&&n.Pb(0,"tr",26)}const tt=function(){return[5,10,20]};let et=(()=>{class t{constructor(t,e){this.resourceService=t,this.dialog=e,this.resourceUrl="/users"}ngOnInit(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll("/classes").toPromise();this.classList=t.data,this.classMap=new Map(t.data.map(t=>[t._id,t.name]));const e=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.displayedColumns=["name","mobileNumber","role","class","isSubscribed","isBlocked","createdAt","updatedAt","action"],this.dataSource=new f.k(e.data),this.dataSource.paginator=this.paginator}))}reFetchResourceList(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.dataSource=new f.k(t.data)}))}getClassName(t){return console.log(this.classMap[t]),this.classMap.get(t)||"Class has been deleted"}openDialogue(t){this.dialog.open(k,{width:"600px",data:{resourceUrl:this.resourceUrl,classList:this.classList,user:t}}).afterClosed().subscribe(t=>{this.reFetchResourceList()})}onAddResource(){this.openDialogue({_id:"",name:"",mobileNumber:"",class:"",isSubscribed:""})}onUpdate(){this.reFetchResourceList()}onDelete(t){return Object(p.a)(this,void 0,void 0,(function*(){yield this.resourceService.delete(this.resourceUrl,t).toPromise(),this.reFetchResourceList()}))}onEdit(t){return Object(p.a)(this,void 0,void 0,(function*(){this.openDialogue(t)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D),n.Ob(g.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-users-page"]],viewQuery:function(t,e){var c;1&t&&n.uc(h.a,!0),2&t&&n.nc(c=n.dc())&&(e.paginator=c.first)},inputs:{resourceUrl:"resourceUrl"},decls:38,vars:5,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],["mat-icon-button","","color","warn","mat-mini-fab","","aria-label","Example icon button with a home icon",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mobileNumber"],["matColumnDef","role"],["matColumnDef","class"],["matColumnDef","isSubscribed"],["matColumnDef","isBlocked"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[3,"isValue"],[1,"example-flex-container2"],["mat-icon-button","","color","primary","aria-label","Example icon button with a vertical three dot icon",3,"click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"h3",2),n.xc(3," Users "),n.Tb(),n.Ub(4,"button",3),n.cc("click",(function(){return e.onAddResource()})),n.Ub(5,"mat-icon"),n.xc(6,"add"),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"table",4),n.Sb(8,5),n.wc(9,F,2,0,"th",6),n.wc(10,z,2,1,"td",7),n.Rb(),n.Sb(11,8),n.wc(12,A,2,0,"th",6),n.wc(13,L,2,1,"td",7),n.Rb(),n.Sb(14,9),n.wc(15,$,2,0,"th",6),n.wc(16,N,2,1,"td",7),n.Rb(),n.Sb(17,10),n.wc(18,j,2,0,"th",6),n.wc(19,V,2,1,"td",7),n.Rb(),n.Sb(20,11),n.wc(21,E,2,0,"th",6),n.wc(22,q,2,1,"td",7),n.Rb(),n.Sb(23,12),n.wc(24,G,2,0,"th",6),n.wc(25,H,2,1,"td",7),n.Rb(),n.Sb(26,13),n.wc(27,B,2,0,"th",6),n.wc(28,K,3,3,"td",7),n.Rb(),n.Sb(29,14),n.wc(30,Q,2,0,"th",6),n.wc(31,J,3,3,"td",7),n.Rb(),n.Sb(32,15),n.wc(33,X,2,0,"th",6),n.wc(34,W,8,0,"td",7),n.Rb(),n.wc(35,Y,1,0,"tr",16),n.wc(36,Z,1,0,"tr",17),n.Tb(),n.Pb(37,"mat-paginator",18),n.Tb()),2&t&&(n.Cb(7),n.lc("dataSource",e.dataSource),n.Cb(28),n.lc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.lc("pageSizeOptions",n.mc(4,tt)))},directives:[S.a,b.a,f.j,f.c,f.e,f.b,f.g,f.i,h.a,f.d,f.a,I,f.f,f.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}"]}),t})();function ct(t,e){if(1&t&&(n.Ub(0,"p",6),n.xc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",t.error," ")}}let it=(()=>{class t{constructor(t){this.fb=t,this.onSubmit=new n.o}ngOnInit(){this.form=this.fb.group({name:["",U.n.required]})}submit(){this.form.valid&&this.onSubmit.emit(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-create-resource-form"]],inputs:{error:"error"},outputs:{onSubmit:"onSubmit"},decls:14,vars:4,consts:[[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Class name","formControlName","name"],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],[1,"error"]],template:function(t,e){1&t&&(n.Ub(0,"mat-card"),n.Ub(1,"mat-card-title"),n.xc(2,"Create Class"),n.Tb(),n.Ub(3,"mat-card-content"),n.Ub(4,"form",0),n.cc("ngSubmit",(function(){return e.submit()})),n.Ub(5,"p"),n.Ub(6,"mat-form-field"),n.Pb(7,"input",1),n.Tb(),n.Tb(),n.wc(8,ct,2,1,"p",2),n.Ub(9,"div",3),n.Ub(10,"button",4),n.cc("click",(function(){return e.form.reset()})),n.xc(11,"Reset"),n.Tb(),n.Ub(12,"button",5),n.xc(13,"Create"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(4),n.lc("formGroup",e.form),n.Cb(4),n.lc("ngIf",e.error),n.Cb(2),n.lc("disabled",!e.form.touched),n.Cb(2),n.lc("disabled",e.form.invalid))},directives:[w.a,w.d,w.b,U.o,U.k,U.e,x.b,v.a,U.b,U.j,U.d,i.l,S.a],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})(),ot=(()=>{class t{constructor(t,e,c){this.api=t,this.dialogRef=e,this.resource=c}onNoClick(){this.dialogRef.close()}ngOnInit(){}onCreate(t){return Object(p.a)(this,void 0,void 0,(function*(){const e=yield this.api.post(this.resource.resourceUrl,t).toPromise();this.dialogRef.close(e)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.a),n.Ob(g.e),n.Ob(g.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-create-resource"]],decls:2,vars:0,consts:[["mat-dialog-content",""],[3,"onSubmit"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"app-create-resource-form",1),n.cc("onSubmit",(function(t){return e.onCreate(t)})),n.Tb(),n.Tb())},directives:[g.c,it],styles:[""]}),t})();function nt(t,e){if(1&t&&(n.Ub(0,"p",6),n.xc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",t.error," ")}}let at=(()=>{class t{constructor(t){this.fb=t,this.onUpdate=new n.o,this.initialValues={name:"",_id:""}}ngOnInit(){this.form=this.fb.group({name:[this.resource.name,U.n.required],_id:[this.resource._id,U.n.required]}),this.initialValues={name:this.resource.name,_id:this.resource._id}}submit(){this.form.valid&&this.onUpdate.emit(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-update-resource-form"]],inputs:{error:"error",resource:"resource"},outputs:{onUpdate:"onUpdate"},decls:14,vars:4,consts:[[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Class name","formControlName","name"],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],[1,"error"]],template:function(t,e){1&t&&(n.Ub(0,"mat-card"),n.Ub(1,"mat-card-title"),n.xc(2,"Create Class"),n.Tb(),n.Ub(3,"mat-card-content"),n.Ub(4,"form",0),n.cc("ngSubmit",(function(){return e.submit()})),n.Ub(5,"p"),n.Ub(6,"mat-form-field"),n.Pb(7,"input",1),n.Tb(),n.Tb(),n.wc(8,nt,2,1,"p",2),n.Ub(9,"div",3),n.Ub(10,"button",4),n.cc("click",(function(){return e.form.reset(e.initialValues)})),n.xc(11,"Reset"),n.Tb(),n.Ub(12,"button",5),n.xc(13,"Update"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Cb(4),n.lc("formGroup",e.form),n.Cb(4),n.lc("ngIf",e.error),n.Cb(2),n.lc("disabled",!e.form.touched),n.Cb(2),n.lc("disabled",e.form.invalid))},directives:[w.a,w.d,w.b,U.o,U.k,U.e,x.b,v.a,U.b,U.j,U.d,i.l,S.a],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})(),rt=(()=>{class t{constructor(t,e,c){this.api=t,this.dialogRef=e,this.data=c}onNoClick(){this.dialogRef.close()}ngOnInit(){}onUpdate(t,e){return Object(p.a)(this,void 0,void 0,(function*(){const c=`${this.data.resourceUrl}/${t}`,i=yield this.api.put(c,e).toPromise();this.dialogRef.close(i)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.a),n.Ob(g.e),n.Ob(g.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-update-resource-dialog"]],decls:2,vars:1,consts:[["mat-dialog-content",""],[3,"resource","onUpdate"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"app-update-resource-form",1),n.cc("onUpdate",(function(t){return e.onUpdate(e.data.resource._id,t)})),n.Tb(),n.Tb()),2&t&&(n.Cb(1),n.lc("resource",e.data.resource))},directives:[g.c,at],styles:[""]}),t})(),st=(()=>{class t{constructor(t,e){this.resourceService=t,this.dialog=e,this.onUpdate=new n.o,this.onDelete=new n.o}ngOnInit(){}onEdit(){this.dialog.open(rt,{width:"600px",data:{resourceUrl:this.resourceUrl,resource:this.resource}}).afterClosed().subscribe(t=>{this.onUpdate.emit(t)})}onDeleteEmit(){this.onDelete.emit(this.resource)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D),n.Ob(g.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-resource-actions"]],inputs:{resource:"resource",resourceUrl:"resourceUrl"},outputs:{onUpdate:"onUpdate",onDelete:"onDelete"},decls:4,vars:0,consts:[[1,"example-flex-container2"],["mat-icon-button","","color","primary","aria-label","Example icon button with a vertical three dot icon",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"button",1),n.cc("click",(function(){return e.onEdit()})),n.Ub(2,"mat-icon"),n.xc(3,"create"),n.Tb(),n.Tb(),n.Tb())},directives:[S.a,b.a],styles:["section[_ngcontent-%COMP%]{display:table;margin:8px}.example-label[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;width:120px}.example-button-row[_ngcontent-%COMP%], .example-label[_ngcontent-%COMP%]{display:table-cell}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:table-cell;margin-right:8px}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:480px}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}"]}),t})();function lt(t,e){1&t&&(n.Ub(0,"th",14),n.xc(1," Name "),n.Tb())}function bt(t,e){if(1&t&&(n.Ub(0,"td",15),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.name," ")}}function dt(t,e){1&t&&(n.Ub(0,"th",14),n.xc(1," Created on "),n.Tb())}function ut(t,e){if(1&t&&(n.Ub(0,"td",15),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.createdAt)," ")}}function mt(t,e){1&t&&(n.Ub(0,"th",14),n.xc(1," Update on "),n.Tb())}function pt(t,e){if(1&t&&(n.Ub(0,"td",15),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.updatedAt)," ")}}function ft(t,e){1&t&&(n.Ub(0,"th",14),n.xc(1," Actions "),n.Tb())}function ht(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",15),n.Ub(1,"app-resource-actions",16),n.cc("onUpdate",(function(){return n.qc(t),n.gc().onUpdate()}))("onDelete",(function(){n.qc(t);const c=e.$implicit;return n.gc().onDelete(c)})),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit,c=n.gc();n.Cb(1),n.lc("resourceUrl",c.resourceUrl)("resource",t)}}function gt(t,e){1&t&&n.Pb(0,"tr",17)}function Ut(t,e){1&t&&n.Pb(0,"tr",18)}const Ct=function(){return[5,10,20]};let wt=(()=>{class t{constructor(t,e){this.resourceService=t,this.dialog=e,this.columnConfig=[]}ngOnInit(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.displayedColumns=["name","createdAt","updatedAt","action"],this.dataSource=new f.k(t.data),this.dataSource.paginator=this.paginator}))}reFetchResourceList(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.dataSource=new f.k(t.data)}))}onAddResource(){this.dialog.open(ot,{width:"600px",data:{resourceUrl:this.resourceUrl}}).afterClosed().subscribe(t=>{this.dataSource.data=[...this.dataSource.data,t.data]})}onUpdate(){this.reFetchResourceList()}onDelete(t){return Object(p.a)(this,void 0,void 0,(function*(){yield this.resourceService.delete(this.resourceUrl,t).toPromise(),this.reFetchResourceList()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D),n.Ob(g.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-resource"]],viewQuery:function(t,e){var c;1&t&&n.uc(h.a,!0),2&t&&n.nc(c=n.dc())&&(e.paginator=c.first)},inputs:{resourceUrl:"resourceUrl",columnConfig:"columnConfig"},decls:23,vars:5,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],["mat-icon-button","","color","warn","mat-mini-fab","","aria-label","Example icon button with a home icon",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[3,"resourceUrl","resource","onUpdate","onDelete"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"h3",2),n.xc(3," Classes "),n.Tb(),n.Ub(4,"button",3),n.cc("click",(function(){return e.onAddResource()})),n.Ub(5,"mat-icon"),n.xc(6,"add"),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"table",4),n.Sb(8,5),n.wc(9,lt,2,0,"th",6),n.wc(10,bt,2,1,"td",7),n.Rb(),n.Sb(11,8),n.wc(12,dt,2,0,"th",6),n.wc(13,ut,3,3,"td",7),n.Rb(),n.Sb(14,9),n.wc(15,mt,2,0,"th",6),n.wc(16,pt,3,3,"td",7),n.Rb(),n.Sb(17,10),n.wc(18,ft,2,0,"th",6),n.wc(19,ht,2,2,"td",7),n.Rb(),n.wc(20,gt,1,0,"tr",11),n.wc(21,Ut,1,0,"tr",12),n.Tb(),n.Pb(22,"mat-paginator",13),n.Tb()),2&t&&(n.Cb(7),n.lc("dataSource",e.dataSource),n.Cb(13),n.lc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.lc("pageSizeOptions",n.mc(4,Ct)))},directives:[S.a,b.a,f.j,f.c,f.e,f.b,f.g,f.i,h.a,f.d,f.a,st,f.f,f.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}"]}),t})(),xt=(()=>{class t{constructor(){this.columnConfig=[{columnName:"_id",title:"Id"},{columnName:"name",title:"Name"},{columnName:"createdAt",title:"Created on"},{columnName:"updatedAt",title:"Updated On"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-classes-page"]],decls:1,vars:1,consts:[["resourceUrl","/classes",3,"columnConfig"]],template:function(t,e){1&t&&n.Pb(0,"app-resource",0),2&t&&n.lc("columnConfig",e.columnConfig)},directives:[wt],styles:[""]}),t})();function vt(t,e){if(1&t&&(n.Ub(0,"mat-option",17),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.lc("value",t._id),n.Cb(1),n.zc(" ",t.name," ")}}function Tt(t,e){if(1&t&&(n.Ub(0,"mat-option",17),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.lc("value",t._id),n.Cb(1),n.zc(" ",t.title," ")}}function yt(t,e){if(1&t&&(n.Ub(0,"span"),n.xc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",t.selectedPdfFile.name," ")}}function St(t,e){if(1&t&&(n.Ub(0,"span"),n.xc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",t.selectedVideoFile.name," ")}}function Ot(t,e){if(1&t&&(n.Ub(0,"p",18),n.xc(1),n.Tb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",t.error," ")}}function Pt(t,e){if(1&t&&(n.Sb(0),n.xc(1),n.Rb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",""==t.form.value._id?"Create":"Update"," ")}}function Rt(t,e){if(1&t&&(n.Sb(0),n.xc(1),n.Rb()),2&t){const t=n.gc();n.Cb(1),n.zc(" ",""==t.form.value._id?"Creating...":"Updating..."," ")}}let kt=(()=>{class t{constructor(t,e,c,i){this.fb=t,this.api=e,this.dialogRef=c,this.data=i,this.isUploading=!1,console.log(i.classList)}onNoClick(){this.dialogRef.close()}ngOnInit(){this.initialValues=this.data.video,this.form=this.fb.group({_id:[this.data.video._id],title:[this.data.video.title,U.n.required],description:[this.data.video.description,U.n.required],class:[this.data.video.class,U.n.required],chapter:[this.data.video.chapter,U.n.required]})}onUploadClick(t){t.click()}pdfFileChange(t){this.selectedPdfFile=t[0]}videoFileChange(t){this.selectedVideoFile=t[0]}onReset(){this.form.reset(this.initialValues),this.selectedVideoFile=void 0,this.selectedPdfFile=void 0}submit(){return Object(p.a)(this,void 0,void 0,(function*(){if(this.form.valid){const t=this.form.value;let e;const{_id:c}=t,i=Object(p.b)(t,["_id"]),o=new FormData;for(const n in i)i.hasOwnProperty(n)&&o.append(n,i[n]);if(this.selectedVideoFile&&o.append("video",this.selectedVideoFile),this.selectedPdfFile&&o.append("pdf",this.selectedPdfFile),this.isUploading=!0,""==t._id)e=yield this.api.post(this.data.resourceUrl,o).toPromise();else{const t=`${this.data.resourceUrl}/${c}`;e=yield this.api.put(t,o).toPromise()}this.isUploading=!1,this.dialogRef.close(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(U.c),n.Ob(C.a),n.Ob(g.e),n.Ob(g.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-create-video-form"]],inputs:{error:"error"},decls:43,vars:11,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Title","formControlName","title"],["type","text","matInput","","placeholder","Description","formControlName","description"],["formControlName","class"],[3,"value",4,"ngFor","ngForOf"],["formControlName","chapter"],["type","button","mat-raised-button","",3,"click"],["id","pdfFileInput","hidden","","type","file",3,"change"],["pdfFileField",""],[4,"ngIf"],["id","videoFileInput","hidden","","type","file",3,"change"],["videoFileField",""],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],[3,"value"],[1,"error"]],template:function(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",0),n.Ub(1,"mat-card"),n.Ub(2,"mat-card-title"),n.xc(3),n.Tb(),n.Ub(4,"mat-card-content"),n.Ub(5,"form",1),n.cc("ngSubmit",(function(){return e.submit()})),n.Ub(6,"p"),n.Ub(7,"mat-form-field"),n.Pb(8,"input",2),n.Tb(),n.Tb(),n.Ub(9,"p"),n.Ub(10,"mat-form-field"),n.Pb(11,"input",3),n.Tb(),n.Tb(),n.Ub(12,"p"),n.Ub(13,"mat-form-field"),n.Ub(14,"mat-label"),n.xc(15,"Class"),n.Tb(),n.Ub(16,"mat-select",4),n.wc(17,vt,2,2,"mat-option",5),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"p"),n.Ub(19,"mat-form-field"),n.Ub(20,"mat-label"),n.xc(21,"Chapter"),n.Tb(),n.Ub(22,"mat-select",6),n.wc(23,Tt,2,2,"mat-option",5),n.Tb(),n.Tb(),n.Tb(),n.Ub(24,"p"),n.Ub(25,"button",7),n.cc("click",(function(){n.qc(t);const c=n.oc(28);return e.onUploadClick(c)})),n.xc(26," Select PDF to upload "),n.Tb(),n.Ub(27,"input",8,9),n.cc("change",(function(t){return e.pdfFileChange(t.target.files)})),n.Tb(),n.wc(29,yt,2,1,"span",10),n.Tb(),n.Ub(30,"p"),n.Ub(31,"button",7),n.cc("click",(function(){n.qc(t);const c=n.oc(34);return e.onUploadClick(c)})),n.xc(32," Select video to uplaod "),n.Tb(),n.Ub(33,"input",11,12),n.cc("change",(function(t){return e.videoFileChange(t.target.files)})),n.Tb(),n.wc(35,St,2,1,"span",10),n.Tb(),n.wc(36,Ot,2,1,"p",13),n.Ub(37,"div",14),n.Ub(38,"button",15),n.cc("click",(function(){return e.onReset()})),n.xc(39,"Reset"),n.Tb(),n.Ub(40,"button",16),n.wc(41,Pt,2,1,"ng-container",10),n.wc(42,Rt,2,1,"ng-container",10),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}2&t&&(n.Cb(3),n.yc(""==e.form.value._id?"Upload Video":"Update Video"),n.Cb(2),n.lc("formGroup",e.form),n.Cb(12),n.lc("ngForOf",e.data.classList),n.Cb(6),n.lc("ngForOf",e.data.chapterList),n.Cb(6),n.lc("ngIf",e.selectedPdfFile&&e.selectedPdfFile.name),n.Cb(6),n.lc("ngIf",e.selectedVideoFile&&e.selectedVideoFile.name),n.Cb(1),n.lc("ngIf",e.error),n.Cb(2),n.lc("disabled",!e.form.touched),n.Cb(2),n.lc("disabled",e.form.invalid||e.isUploading),n.Cb(1),n.lc("ngIf",!e.isUploading),n.Cb(1),n.lc("ngIf",e.isUploading))},directives:[g.c,w.a,w.d,w.b,U.o,U.k,U.e,x.b,v.a,U.b,U.j,U.d,x.e,T.a,i.k,S.a,i.l,O.h],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})();function Dt(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Title "),n.Tb())}function _t(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.title," ")}}function Mt(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Description "),n.Tb())}function It(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.description," ")}}function Ft(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Video "),n.Tb())}function zt(t,e){if(1&t&&(n.Sb(0),n.Ub(1,"a",22),n.xc(2),n.Tb(),n.Rb()),2&t){const t=n.gc().$implicit;n.Cb(1),n.lc("href",t.videoS3.Location,n.rc),n.Cb(1),n.zc("",t.videoS3.Key," ")}}function At(t,e){1&t&&(n.Sb(0),n.xc(1," No video "),n.Rb())}function Lt(t,e){if(1&t&&(n.Ub(0,"td",20),n.wc(1,zt,3,2,"ng-container",21),n.wc(2,At,2,0,"ng-container",21),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.lc("ngIf",t.videoS3),n.Cb(1),n.lc("ngIf",!t.videoS3)}}function $t(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," PDF "),n.Tb())}function Nt(t,e){if(1&t&&(n.Sb(0),n.Ub(1,"a",22),n.xc(2),n.Tb(),n.Rb()),2&t){const t=n.gc().$implicit;n.Cb(1),n.lc("href",t.pdfS3.Location,n.rc),n.Cb(1),n.zc("",t.pdfS3.Key," ")}}function jt(t,e){1&t&&(n.Sb(0),n.xc(1," No video "),n.Rb())}function Vt(t,e){if(1&t&&(n.Ub(0,"td",20),n.wc(1,Nt,3,2,"ng-container",21),n.wc(2,jt,2,0,"ng-container",21),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.lc("ngIf",t.pdfS3),n.Cb(1),n.lc("ngIf",!t.pdfS3)}}function Et(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Chapter "),n.Tb())}function qt(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit,c=n.gc();n.Cb(1),n.zc(" ",c.getChapterName(t.chapter)," ")}}function Gt(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Class "),n.Tb())}function Ht(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.Tb()),2&t){const t=e.$implicit,c=n.gc();n.Cb(1),n.zc(" ",c.getClassName(t.class)," ")}}function Bt(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Created on "),n.Tb())}function Kt(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.createdAt)," ")}}function Qt(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Update on "),n.Tb())}function Jt(t,e){if(1&t&&(n.Ub(0,"td",20),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.updatedAt)," ")}}function Xt(t,e){1&t&&(n.Ub(0,"th",19),n.xc(1," Actions "),n.Tb())}function Wt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",20),n.Ub(1,"div",23),n.Ub(2,"button",24),n.cc("click",(function(){n.qc(t);const c=e.$implicit;return n.gc().onEdit(c)})),n.Ub(3,"mat-icon"),n.xc(4,"create"),n.Tb(),n.Tb(),n.Ub(5,"button",25),n.cc("click",(function(){n.qc(t);const c=e.$implicit;return n.gc().onDelete(c)})),n.Ub(6,"mat-icon"),n.xc(7,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb()}}function Yt(t,e){1&t&&n.Pb(0,"tr",26)}function Zt(t,e){1&t&&n.Pb(0,"tr",27)}const te=function(){return[5,10,20]};let ee=(()=>{class t{constructor(t,e){this.resourceService=t,this.dialog=e,this.resourceUrl="/assets"}ngOnInit(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll("/classes").toPromise();this.classList=t.data,this.classMap=new Map(t.data.map(t=>[t._id,t.name]));const e=yield this.resourceService.fetchAll("/chapters").toPromise();this.chapterList=e.data,this.chapterMap=new Map(e.data.map(t=>[t._id,t.title]));const c=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.displayedColumns=["title","description","class","chapter","videoS3","pdfS3","createdAt","updatedAt","action"],this.dataSource=new f.k(c.data),this.dataSource.paginator=this.paginator}))}reFetchResourceList(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.dataSource=new f.k(t.data)}))}getClassName(t){return console.log(this.classMap[t]),this.classMap.get(t)||"Class has been deleted"}getChapterName(t){return console.log(this.chapterMap[t]),this.chapterMap.get(t)||"Chapter has been deleted"}openDialogue(t){this.dialog.open(kt,{width:"600px",data:{resourceUrl:this.resourceUrl,classList:this.classList,chapterList:this.chapterList,video:t}}).afterClosed().subscribe(t=>{this.reFetchResourceList()})}onAddResource(){this.openDialogue({_id:"",title:"",description:"",class:""})}onUpdate(){this.reFetchResourceList()}onDelete(t){return Object(p.a)(this,void 0,void 0,(function*(){yield this.resourceService.delete(this.resourceUrl,t).toPromise(),this.reFetchResourceList()}))}onEdit(t){return Object(p.a)(this,void 0,void 0,(function*(){this.openDialogue(t)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D),n.Ob(g.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-videos-page"]],viewQuery:function(t,e){var c;1&t&&n.uc(h.a,!0),2&t&&n.nc(c=n.dc())&&(e.paginator=c.first)},inputs:{resourceUrl:"resourceUrl"},decls:38,vars:5,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],["mat-icon-button","","color","warn","mat-mini-fab","","aria-label","Example icon button with a home icon",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","videoS3"],["matColumnDef","pdfS3"],["matColumnDef","chapter"],["matColumnDef","class"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[3,"href"],[1,"example-flex-container2"],["mat-icon-button","","color","primary","aria-label","Example icon button with a vertical three dot icon",3,"click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"h3",2),n.xc(3," Videos "),n.Tb(),n.Ub(4,"button",3),n.cc("click",(function(){return e.onAddResource()})),n.Ub(5,"mat-icon"),n.xc(6,"add"),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"table",4),n.Sb(8,5),n.wc(9,Dt,2,0,"th",6),n.wc(10,_t,2,1,"td",7),n.Rb(),n.Sb(11,8),n.wc(12,Mt,2,0,"th",6),n.wc(13,It,2,1,"td",7),n.Rb(),n.Sb(14,9),n.wc(15,Ft,2,0,"th",6),n.wc(16,Lt,3,2,"td",7),n.Rb(),n.Sb(17,10),n.wc(18,$t,2,0,"th",6),n.wc(19,Vt,3,2,"td",7),n.Rb(),n.Sb(20,11),n.wc(21,Et,2,0,"th",6),n.wc(22,qt,2,1,"td",7),n.Rb(),n.Sb(23,12),n.wc(24,Gt,2,0,"th",6),n.wc(25,Ht,2,1,"td",7),n.Rb(),n.Sb(26,13),n.wc(27,Bt,2,0,"th",6),n.wc(28,Kt,3,3,"td",7),n.Rb(),n.Sb(29,14),n.wc(30,Qt,2,0,"th",6),n.wc(31,Jt,3,3,"td",7),n.Rb(),n.Sb(32,15),n.wc(33,Xt,2,0,"th",6),n.wc(34,Wt,8,0,"td",7),n.Rb(),n.wc(35,Yt,1,0,"tr",16),n.wc(36,Zt,1,0,"tr",17),n.Tb(),n.Pb(37,"mat-paginator",18),n.Tb()),2&t&&(n.Cb(7),n.lc("dataSource",e.dataSource),n.Cb(28),n.lc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.lc("pageSizeOptions",n.mc(4,te)))},directives:[S.a,b.a,f.j,f.c,f.e,f.b,f.g,f.i,h.a,f.d,f.a,i.l,f.f,f.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}"]}),t})();function ce(t,e){1&t&&(n.Ub(0,"th",16),n.xc(1," Title "),n.Tb())}function ie(t,e){if(1&t&&(n.Ub(0,"td",17),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.title," ")}}function oe(t,e){1&t&&(n.Ub(0,"th",16),n.xc(1," Description "),n.Tb())}function ne(t,e){if(1&t&&(n.Ub(0,"td",17),n.xc(1),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",t.description," ")}}function ae(t,e){1&t&&(n.Ub(0,"th",16),n.xc(1," Class "),n.Tb())}function re(t,e){if(1&t&&(n.Ub(0,"td",17),n.xc(1),n.Tb()),2&t){const t=e.$implicit,c=n.gc();n.Cb(1),n.zc(" ",c.getClassName(t.class)," ")}}function se(t,e){1&t&&(n.Ub(0,"th",16),n.xc(1," Created on "),n.Tb())}function le(t,e){if(1&t&&(n.Ub(0,"td",17),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.createdAt)," ")}}function be(t,e){1&t&&(n.Ub(0,"th",16),n.xc(1," Update on "),n.Tb())}function de(t,e){if(1&t&&(n.Ub(0,"td",17),n.xc(1),n.hc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.zc(" ",n.ic(2,1,t.updatedAt)," ")}}function ue(t,e){1&t&&(n.Ub(0,"th",16),n.xc(1," Actions "),n.Tb())}function me(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",17),n.Ub(1,"div",18),n.Ub(2,"button",19),n.cc("click",(function(){n.qc(t);const c=e.$implicit;return n.gc().onEdit(c)})),n.Ub(3,"mat-icon"),n.xc(4,"create"),n.Tb(),n.Tb(),n.Ub(5,"button",20),n.cc("click",(function(){n.qc(t);const c=e.$implicit;return n.gc().onDelete(c)})),n.Ub(6,"mat-icon"),n.xc(7,"delete"),n.Tb(),n.Tb(),n.Tb(),n.Tb()}}function pe(t,e){1&t&&n.Pb(0,"tr",21)}function fe(t,e){1&t&&n.Pb(0,"tr",22)}const he=function(){return[5,10,20]},ge=[{path:"",component:m,children:[{path:"classes",component:xt},{path:"chapter",component:(()=>{class t{constructor(t,e){this.resourceService=t,this.dialog=e,this.resourceUrl="/chapters"}ngOnInit(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll("/classes").toPromise();this.classList=t.data,this.classMap=new Map(t.data.map(t=>[t._id,t.name]));const e=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.displayedColumns=["title","description","class","createdAt","updatedAt","action"],this.dataSource=new f.k(e.data),this.dataSource.paginator=this.paginator}))}reFetchResourceList(){return Object(p.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.dataSource=new f.k(t.data)}))}getClassName(t){return console.log(this.classMap[t]),this.classMap.get(t)||"Class has been deleted"}openDialogue(t){this.dialog.open(kt,{width:"600px",data:{resourceUrl:this.resourceUrl,classList:this.classList,video:t}}).afterClosed().subscribe(t=>{this.reFetchResourceList()})}onAddResource(){this.openDialogue({_id:"",title:"",description:"",class:""})}onUpdate(){this.reFetchResourceList()}onDelete(t){return Object(p.a)(this,void 0,void 0,(function*(){yield this.resourceService.delete(this.resourceUrl,t).toPromise(),this.reFetchResourceList()}))}onEdit(t){return Object(p.a)(this,void 0,void 0,(function*(){this.openDialogue(t)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(D),n.Ob(g.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-chapters-page"]],viewQuery:function(t,e){var c;1&t&&n.uc(h.a,!0),2&t&&n.nc(c=n.dc())&&(e.paginator=c.first)},inputs:{resourceUrl:"resourceUrl"},decls:29,vars:5,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],["mat-icon-button","","color","warn","mat-mini-fab","","aria-label","Example icon button with a home icon",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","class"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"example-flex-container2"],["mat-icon-button","","color","primary","aria-label","Example icon button with a vertical three dot icon",3,"click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"h3",2),n.xc(3," Chapters "),n.Tb(),n.Ub(4,"button",3),n.cc("click",(function(){return e.onAddResource()})),n.Ub(5,"mat-icon"),n.xc(6,"add"),n.Tb(),n.Tb(),n.Tb(),n.Ub(7,"table",4),n.Sb(8,5),n.wc(9,ce,2,0,"th",6),n.wc(10,ie,2,1,"td",7),n.Rb(),n.Sb(11,8),n.wc(12,oe,2,0,"th",6),n.wc(13,ne,2,1,"td",7),n.Rb(),n.Sb(14,9),n.wc(15,ae,2,0,"th",6),n.wc(16,re,2,1,"td",7),n.Rb(),n.Sb(17,10),n.wc(18,se,2,0,"th",6),n.wc(19,le,3,3,"td",7),n.Rb(),n.Sb(20,11),n.wc(21,be,2,0,"th",6),n.wc(22,de,3,3,"td",7),n.Rb(),n.Sb(23,12),n.wc(24,ue,2,0,"th",6),n.wc(25,me,8,0,"td",7),n.Rb(),n.wc(26,pe,1,0,"tr",13),n.wc(27,fe,1,0,"tr",14),n.Tb(),n.Pb(28,"mat-paginator",15),n.Tb()),2&t&&(n.Cb(7),n.lc("dataSource",e.dataSource),n.Cb(19),n.lc("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.lc("matRowDefColumns",e.displayedColumns),n.Cb(1),n.lc("pageSizeOptions",n.mc(4,he)))},directives:[S.a,b.a,f.j,f.c,f.e,f.b,f.g,f.i,h.a,f.d,f.a,f.f,f.h],pipes:[i.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}"]}),t})()},{path:"users",component:et},{path:"videos",component:ee}]}];let Ue=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[o.d.forChild(ge)],o.d]}),t})();var Ce=c("5JnA");c.d(e,"AdminDashboardModule",(function(){return we}));let we=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[i.c,U.m,Ue,Ce.a]]}),t})()}}]);