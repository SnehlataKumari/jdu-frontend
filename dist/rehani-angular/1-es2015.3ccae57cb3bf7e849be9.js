(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Bwgp:function(t,e,i){"use strict";i.d(e,"a",(function(){return K}));var n=i("U7T7"),c=i("LvDl"),o=i("1kSV"),s=i("3Pt+"),r=i("PSD3"),a=i.n(r),b=i("fXoL"),l=i("st1q"),u=i("tyNb"),d=i("ofXK"),m=i("S/Mv");function f(t,e){if(1&t&&(b.Wb(0,"option",10),b.Rb(1,"app-constant",11),b.Vb()),2&t){const t=e.$implicit,i=b.mc(2);b.rc("value",t),b.Cb(1),b.rc("constant",i.QUESTION_CATEGORY)("isBadge",!1)("code",t)}}function p(t,e){if(1&t){const t=b.Xb();b.Wb(0,"div"),b.Wb(1,"label"),b.Kc(2," Option: "),b.Rb(3,"input",12),b.Wb(4,"button",8),b.ic("click",(function(){b.Bc(t);const i=e.index;return b.mc(2).removeOption(i)})),b.Kc(5,"Remove"),b.Vb(),b.Vb(),b.Vb()}if(2&t){const t=e.index;b.Cb(3),b.rc("formControlName",t)}}function h(t,e){if(1&t){const t=b.Xb();b.Ub(0),b.Wb(1,"form",1),b.Wb(2,"div",2),b.Wb(3,"select",3),b.Ic(4,f,2,4,"option",4),b.Vb(),b.Vb(),b.Wb(5,"div",2),b.Rb(6,"input",5),b.Vb(),b.Wb(7,"div",6),b.Wb(8,"h3"),b.Kc(9,"Options"),b.Vb(),b.Ic(10,p,6,1,"div",7),b.Wb(11,"button",8),b.ic("click",(function(){return b.Bc(t),b.mc().addOption()})),b.Kc(12,"Add Option"),b.Vb(),b.Vb(),b.Wb(13,"button",9),b.ic("click",(function(){return b.Bc(t),b.mc().save()})),b.Kc(14,"Save"),b.Vb(),b.Wb(15,"button",9),b.ic("click",(function(){return b.Bc(t),b.mc().dismiss("Save click")})),b.Kc(16,"Cancel"),b.Vb(),b.Vb(),b.Tb()}if(2&t){const t=b.mc();b.Cb(1),b.rc("formGroup",t.questionForm),b.Cb(3),b.rc("ngForOf",t.questionKeys),b.Cb(6),b.rc("ngForOf",t.options.controls)}}function g(t,e){if(1&t&&(b.Wb(0,"div"),b.Wb(1,"b"),b.Kc(2),b.Vb(),b.Kc(3),b.Vb()),2&t){const t=b.mc(),e=t.index,i=t.$implicit;b.Cb(2),b.Mc("Question ",e+1,": "),b.Cb(1),b.Mc(" ",i.title,"")}}function v(t,e){if(1&t&&(b.Wb(0,"li"),b.Kc(1),b.Vb()),2&t){const t=e.$implicit;b.Cb(1),b.Mc(" ",t," ")}}function C(t,e){if(1&t){const t=b.Xb();b.Wb(0,"button",26),b.ic("click",(function(){b.Bc(t);const e=b.mc().$implicit;return b.mc(5).deleteQuestion(e)})),b.Kc(1,"Delete"),b.Vb(),b.Wb(2,"button",27),b.ic("click",(function(){b.Bc(t);const e=b.mc().$implicit;return b.mc(5).showAnswers(e)})),b.Kc(3,"View Answers"),b.Vb(),b.Wb(4,"ol"),b.Ic(5,v,2,1,"li",7),b.Vb()}if(2&t){const t=b.mc().$implicit;b.Cb(5),b.rc("ngForOf",t.options)}}function V(t,e){1&t&&(b.Wb(0,"ngb-panel"),b.Ic(1,g,4,2,"ng-template",24),b.Ic(2,C,6,1,"ng-template",25),b.Vb())}function W(t,e){if(1&t&&(b.Wb(0,"ngb-accordion",22,23),b.Ic(2,V,3,0,"ngb-panel",7),b.Vb()),2&t){const t=b.mc(2).$implicit,e=b.mc(2);b.Cb(2),b.rc("ngForOf",e.catogoryWiseQuestions[t])}}function I(t,e){if(1&t){const t=b.Xb();b.Wb(0,"button",20),b.ic("click",(function(){b.Bc(t);const e=b.mc().$implicit;return b.mc(2).addNewQuestion(e)})),b.Kc(1,"Add new question"),b.Vb(),b.Ic(2,W,3,1,"ngb-accordion",21)}if(2&t){const t=b.mc().$implicit,e=b.mc(2);b.Cb(2),b.rc("ngIf",e.catogoryWiseQuestions&&e.catogoryWiseQuestions[t])}}function y(t,e){if(1&t&&(b.Wb(0,"li",17),b.Wb(1,"a",18),b.Rb(2,"app-constant",11),b.Vb(),b.Ic(3,I,3,1,"ng-template",19),b.Vb()),2&t){const t=e.$implicit,i=e.index,n=b.mc(2);b.rc("ngbNavItem",i+1),b.Cb(2),b.rc("constant",n.QUESTION_CATEGORY)("isBadge",!1)("code",t)}}function w(t,e){if(1&t){const t=b.Xb();b.Ub(0),b.Wb(1,"ul",13,14),b.ic("activeIdChange",(function(e){return b.Bc(t),b.mc().active=e})),b.Ic(3,y,4,4,"li",15),b.Vb(),b.Rb(4,"div",16),b.Tb()}if(2&t){const t=b.zc(2),e=b.mc();b.Cb(1),b.rc("activeId",e.active),b.Cb(2),b.rc("ngForOf",e.questionKeys),b.Cb(1),b.rc("ngbNavOutlet",t)}}let K=(()=>{class t{constructor(t,e,i,c,o){this.suggestionsService=t,this.modalService=e,this.fb=i,this.router=c,this.activatedRoute=o,this.QUESTION_CATEGORY=n.b,this.active=1,this.closeResult="",this.createMode=!1}ngOnInit(){this.questionKeys=Object(n.e)(n.b),this.fetchQuestions(),this.questionForm=this.fb.group({title:["",s.v.required],description:[""],category:["",s.v.required],options:this.fb.array([])})}fetchQuestions(){this.suggestionsService.getAllQuestionsWithAnswers().subscribe(t=>{this.catogoryWiseQuestions=Object(c.groupBy)(t,"category")})}addOption(){this.options.push(this.fb.control(""))}get options(){return this.questionForm.get("options")}deleteQuestion(t){this.suggestionsService.deleteQuestion(t).subscribe(t=>{this.fetchQuestions(),a.a.fire("","Response saved successgully!","success")})}dismiss(t){this.createMode=!1}save(){const t=this.questionForm.value;""!==t.title?t.options.length<2?a.a.fire("","There should be atleast 2 options","error"):this.suggestionsService.createQuestion(t).subscribe(t=>{this.fetchQuestions(),a.a.fire("","Response saved successgully!","success"),this.createMode=!1}):a.a.fire("","Title field cant be blank","error")}removeOption(t){this.options.removeAt(t)}addNewQuestion(t){this.createMode=!0,this.questionForm.patchValue({category:t})}getDismissReason(t){return t===o.a.ESC?"by pressing ESC":t===o.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}showAnswers(t){this.router.navigate([t._id,"answers"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(l.a),b.Qb(o.c),b.Qb(s.e),b.Qb(u.c),b.Qb(u.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["app-suggestion-questions"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup"],[1,"col-md-12"],["formControlName","category","id","exampleFormControlSelect1",1,"medium-input","width-100"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","title","id","title","placeholder","Question Title",1,"medium-input","width-100"],["formArrayName","options"],[4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"value"],[3,"constant","isBadge","code"],["type","text",3,"formControlName"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"btn","btn-small","btn-rounded","btn-success",3,"click"],["activeIds","ngb-panel-0",4,"ngIf"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"btn","btn-small","btn-rounded","btn-danger","margin-10px-bottom","margin-10px-lr",3,"click"],[1,"btn","btn-small","btn-rounded","btn-primary","margin-10px-bottom","margin-5px-lr",3,"click"]],template:function(t,e){1&t&&(b.Ic(0,h,17,3,"ng-container",0),b.Ic(1,w,5,3,"ng-container",0)),2&t&&(b.rc("ngIf",e.createMode),b.Cb(1),b.rc("ngIf",!e.createMode))},directives:[d.m,s.x,s.m,s.g,s.u,s.l,s.f,d.l,s.c,s.d,s.q,s.w,m.a,o.e,o.i,o.g,o.h,o.f,o.b,o.k,o.m,o.l],styles:["a[_ngcontent-%COMP%]{background-color:#217922}.card-body[_ngcontent-%COMP%]{border:2px solid #000}"]}),t})()},JuEE:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("U7T7"),c=i("fXoL");let o=(()=>{class t{transform(t,...e){return n.c[t].label||"Unkown Role"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Pb({name:"role",type:t,pure:!0}),t})()},"S/Mv":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("fXoL"),c=i("ofXK");function o(t,e){if(1&t&&(n.Wb(0,"span",2),n.Kc(1),n.Vb()),2&t){const t=n.mc();n.Cb(1),n.Mc(" ",t.label,"\n")}}function s(t,e){if(1&t&&(n.Ub(0),n.Kc(1),n.Tb()),2&t){const t=n.mc();n.Cb(1),n.Mc(" ",t.label,"\n")}}let r=(()=>{class t{constructor(){this.isBadge=!0}ngOnInit(){this.label=this.constant[this.code].label}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["app-constant"]],inputs:{constant:"constant",code:"code",isBadge:"isBadge"},decls:2,vars:2,consts:[["class","badge badge-secondary",4,"ngIf"],[4,"ngIf"],[1,"badge","badge-secondary"]],template:function(t,e){1&t&&(n.Ic(0,o,2,1,"span",0),n.Ic(1,s,2,1,"ng-container",1)),2&t&&(n.rc("ngIf",e.isBadge),n.Cb(1),n.rc("ngIf",!e.isBadge))},directives:[c.m],styles:[""]}),t})()},TqWN:function(t,e,i){"use strict";var n=i("mrSG"),c=i("+0xr"),o=i("M9IT"),s=i("LvDl"),r=i("0IaG"),a=i("3Pt+"),b=i("U7T7"),l=i("fXoL"),u=i("H+bZ"),d=i("N/25"),m=i("Wp6s"),f=i("kmnG"),p=i("qFsG"),h=i("ofXK"),g=i("d3UM"),v=i("bTqV"),C=i("FKr1");function V(t,e){1&t&&(l.Wb(0,"p"),l.Wb(1,"mat-form-field"),l.Rb(2,"input",11),l.Vb(),l.Vb())}function W(t,e){if(1&t&&(l.Wb(0,"mat-option",12),l.Kc(1),l.Vb()),2&t){const t=e.$implicit,i=l.mc();l.rc("value",t),l.Cb(1),l.Mc(" ",i.displayRoles[t].label," ")}}function I(t,e){if(1&t&&(l.Wb(0,"p",13),l.Kc(1),l.Vb()),2&t){const t=l.mc();l.Cb(1),l.Mc(" ",t.error," ")}}let y=(()=>{class t{constructor(t,e,i,n,c){this.fb=t,this.api=e,this.authService=i,this.dialogRef=n,this.data=c,this.isCreateMode=!0,console.log(c.classList)}onNoClick(){this.dialogRef.close()}ngOnInit(){this.initialValues=this.data.user,this.isCreateMode=""===this.initialValues._id;const t=this.authService.getLogginedUserRole();this.displayRoles="SUPER_ADMIN"===t?Object(s.pick)(b.c,["ADMIN"]):Object(s.pick)(b.c,Object(s.filter)(Reflect.ownKeys(b.c),t=>!("ADMIN"===t||"SUPER_ADMIN"===t))),this.keys=Reflect.ownKeys(this.displayRoles),this.form=this.fb.group({_id:[this.initialValues._id],name:[this.initialValues.name,a.v.required],role:[this.initialValues.role||Reflect.ownKeys(this.displayRoles)[0],a.v.required],username:[this.initialValues.username,a.v.required],password:[this.initialValues.password,a.v.required]})}submit(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.form.valid){const t=this.form.value;let e;const{_id:i,password:c}=t,o=Object(n.b)(t,["_id","password"]);if(""==t._id)e=yield this.api.post(this.data.resourceUrl,Object.assign(Object.assign({},o),{password:c})).toPromise();else{const n=`${this.data.resourceUrl}/${i}`;e=yield this.api.put(n,t).toPromise()}this.dialogRef.close(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(a.e),l.Qb(u.a),l.Qb(d.a),l.Qb(r.e),l.Qb(r.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-create-user-form"]],inputs:{error:"error"},decls:25,vars:8,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Name","formControlName","name"],["type","text","matInput","","placeholder","User Name","formControlName","username"],[4,"ngIf"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],["type","password","matInput","","placeholder","Password","formControlName","password"],[3,"value"],[1,"error"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"mat-card"),l.Wb(2,"mat-card-title"),l.Kc(3),l.Vb(),l.Wb(4,"mat-card-content"),l.Wb(5,"form",1),l.ic("ngSubmit",(function(){return e.submit()})),l.Wb(6,"p"),l.Wb(7,"mat-form-field"),l.Rb(8,"input",2),l.Vb(),l.Vb(),l.Wb(9,"p"),l.Wb(10,"mat-form-field"),l.Rb(11,"input",3),l.Vb(),l.Vb(),l.Ic(12,V,3,0,"p",4),l.Wb(13,"p"),l.Wb(14,"mat-form-field"),l.Wb(15,"mat-label"),l.Kc(16,"Role"),l.Vb(),l.Wb(17,"mat-select",5),l.Ic(18,W,2,2,"mat-option",6),l.Vb(),l.Vb(),l.Vb(),l.Ic(19,I,2,1,"p",7),l.Wb(20,"div",8),l.Wb(21,"button",9),l.ic("click",(function(){return e.form.reset(e.initialValues)})),l.Kc(22,"Reset"),l.Vb(),l.Wb(23,"button",10),l.Kc(24),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Cb(3),l.Lc(e.isCreateMode?"Create User":"Update User"),l.Cb(2),l.rc("formGroup",e.form),l.Cb(7),l.rc("ngIf",e.isCreateMode),l.Cb(6),l.rc("ngForOf",e.keys),l.Cb(1),l.rc("ngIf",e.error),l.Cb(2),l.rc("disabled",!e.form.touched),l.Cb(2),l.rc("disabled",e.form.invalid),l.Cb(1),l.Lc(""==e.form.value._id?"Create":"Update"))},directives:[r.c,m.a,m.d,m.b,a.x,a.m,a.g,f.b,p.a,a.c,a.l,a.f,h.m,f.e,g.a,h.l,v.a,C.h],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})();var w=i("edFq"),K=i("NFeN"),O=i("JuEE");function R(t,e){1&t&&(l.Wb(0,"th",16),l.Kc(1," Name "),l.Vb())}function M(t,e){if(1&t&&(l.Wb(0,"td",17),l.Kc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Mc(" ",t.name," ")}}function k(t,e){1&t&&(l.Wb(0,"th",16),l.Kc(1," Username "),l.Vb())}function N(t,e){if(1&t&&(l.Wb(0,"td",17),l.Kc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Mc(" ",t.username," ")}}function L(t,e){1&t&&(l.Wb(0,"th",16),l.Kc(1," Role "),l.Vb())}function S(t,e){if(1&t&&(l.Wb(0,"td",17),l.Kc(1),l.nc(2,"role"),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Mc(" ",l.oc(2,1,t.role)," ")}}function U(t,e){1&t&&(l.Wb(0,"th",16),l.Kc(1," Created on "),l.Vb())}function x(t,e){if(1&t&&(l.Wb(0,"td",17),l.Kc(1),l.nc(2,"date"),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Mc(" ",l.oc(2,1,t.createdAt)," ")}}function A(t,e){1&t&&(l.Wb(0,"th",16),l.Kc(1," Update on "),l.Vb())}function F(t,e){if(1&t&&(l.Wb(0,"td",17),l.Kc(1),l.nc(2,"date"),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Mc(" ",l.oc(2,1,t.updatedAt)," ")}}function Q(t,e){1&t&&(l.Wb(0,"th",16),l.Kc(1," Actions "),l.Vb())}function D(t,e){if(1&t){const t=l.Xb();l.Wb(0,"td",17),l.Wb(1,"div",18),l.Wb(2,"button",19),l.ic("click",(function(){l.Bc(t);const i=e.$implicit;return l.mc().onEdit(i)})),l.Wb(3,"mat-icon"),l.Kc(4,"create"),l.Vb(),l.Vb(),l.Wb(5,"button",20),l.ic("click",(function(){l.Bc(t);const i=e.$implicit;return l.mc().onDelete(i)})),l.Wb(6,"mat-icon"),l.Kc(7,"delete"),l.Vb(),l.Vb(),l.Vb(),l.Vb()}}function q(t,e){1&t&&l.Rb(0,"tr",21)}function T(t,e){1&t&&l.Rb(0,"tr",22)}i.d(e,"a",(function(){return _}));const P=function(){return[5,10,20]};let _=(()=>{class t{constructor(t,e,i){this.resourceService=t,this.authService=e,this.dialog=i,this.resourceUrl="/users"}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.displayedColumns=["name","userName","role","createdAt","updatedAt","action"],this.resetList(t.data)}))}reFetchResourceList(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.resetList(t.data)}))}resetList(t){const e=this.filterBasedOnRole(t);this.dataSource=new c.k(e),this.dataSource.paginator=this.paginator}filterBasedOnRole(t){const e="SUPER_ADMIN"===this.authService.getLogginedUserRole()?{role:"ADMIN"}:t=>!("ADMIN"==t.role||"SUPER_ADMIN"==t.role);return Object(s.filter)(t,e)}getClassName(t){return console.log(this.classMap[t]),this.classMap.get(t)||"Class has been deleted"}openDialogue(t){this.dialog.open(y,{width:"600px",data:{resourceUrl:this.resourceUrl,classList:this.classList,user:t}}).afterClosed().subscribe(t=>{this.reFetchResourceList()})}onAddResource(){this.openDialogue({_id:"",name:"",mobileNumber:"",class:"",isSubscribed:""})}onUpdate(){this.reFetchResourceList()}onDelete(t){return Object(n.a)(this,void 0,void 0,(function*(){yield this.resourceService.delete(this.resourceUrl,t).toPromise(),this.reFetchResourceList()}))}onEdit(t){return Object(n.a)(this,void 0,void 0,(function*(){this.openDialogue(t)}))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(w.a),l.Qb(d.a),l.Qb(r.b))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-users-page"]],viewQuery:function(t,e){var i;1&t&&l.Gc(o.a,!0),2&t&&l.yc(i=l.jc())&&(e.paginator=i.first)},inputs:{resourceUrl:"resourceUrl"},decls:29,vars:5,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],["mat-icon-button","","color","warn","mat-mini-fab","","aria-label","Example icon button with a home icon",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","role"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"example-flex-container2"],["mat-icon-button","","color","primary","aria-label","Example icon button with a vertical three dot icon",3,"click"],["mat-icon-button","","color","warn","aria-label","Example icon button with a home icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"h3",2),l.Kc(3," Users "),l.Vb(),l.Wb(4,"button",3),l.ic("click",(function(){return e.onAddResource()})),l.Wb(5,"mat-icon"),l.Kc(6,"add"),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"table",4),l.Ub(8,5),l.Ic(9,R,2,0,"th",6),l.Ic(10,M,2,1,"td",7),l.Tb(),l.Ub(11,8),l.Ic(12,k,2,0,"th",6),l.Ic(13,N,2,1,"td",7),l.Tb(),l.Ub(14,9),l.Ic(15,L,2,0,"th",6),l.Ic(16,S,3,3,"td",7),l.Tb(),l.Ub(17,10),l.Ic(18,U,2,0,"th",6),l.Ic(19,x,3,3,"td",7),l.Tb(),l.Ub(20,11),l.Ic(21,A,2,0,"th",6),l.Ic(22,F,3,3,"td",7),l.Tb(),l.Ub(23,12),l.Ic(24,Q,2,0,"th",6),l.Ic(25,D,8,0,"td",7),l.Tb(),l.Ic(26,q,1,0,"tr",13),l.Ic(27,T,1,0,"tr",14),l.Vb(),l.Rb(28,"mat-paginator",15),l.Vb()),2&t&&(l.Cb(7),l.rc("dataSource",e.dataSource),l.Cb(19),l.rc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.rc("matRowDefColumns",e.displayedColumns),l.Cb(1),l.rc("pageSizeOptions",l.uc(4,P)))},directives:[v.a,K.a,c.j,c.c,c.e,c.b,c.g,c.i,o.a,c.d,c.a,c.f,c.h],pipes:[O.a,h.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}"]}),t})()},edFq:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("fXoL"),c=i("H+bZ");let o=(()=>{class t{constructor(t){this.api=t}fetchAll(t){return this.api.get(t)}delete(t,e){return this.api.delete(`${t}/${e._id}`)}}return t.\u0275fac=function(e){return new(e||t)(n.ec(c.a))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"k+vH":function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("LvDl"),c=i("fXoL"),o=i("tyNb"),s=i("st1q"),r=i("ofXK"),a=i("LPYB");function b(t,e){1&t&&(c.Ub(0),c.Kc(1,"Loading..."),c.Tb())}function l(t,e){if(1&t&&(c.Wb(0,"li"),c.Kc(1),c.Vb()),2&t){const t=e.$implicit;c.Cb(1),c.Mc(" ",t," ")}}function u(t,e){if(1&t&&(c.Wb(0,"tr"),c.Wb(1,"th",11),c.Kc(2),c.Vb(),c.Wb(3,"td"),c.Kc(4),c.Vb(),c.Wb(5,"td"),c.Kc(6),c.Vb(),c.Wb(7,"td"),c.Kc(8),c.Vb(),c.Wb(9,"td"),c.Kc(10),c.Vb(),c.Wb(11,"td"),c.Kc(12),c.Vb(),c.Wb(13,"td"),c.Kc(14),c.Vb(),c.Vb()),2&t){const t=e.$implicit,i=e.index;c.Cb(2),c.Lc(i+1),c.Cb(2),c.Lc(t.answer),c.Cb(2),c.Lc(t.name),c.Cb(2),c.Lc(t.mobileNumber),c.Cb(2),c.Lc(t.destrict),c.Cb(2),c.Lc(t.vidhanSabha),c.Cb(2),c.Lc(t.comment)}}function d(t,e){if(1&t&&(c.Ub(0),c.Wb(1,"div",1),c.Wb(2,"div",2),c.Kc(3),c.Wb(4,"ol"),c.Ic(5,l,2,1,"li",3),c.Vb(),c.Vb(),c.Wb(6,"div",2),c.Wb(7,"div",4),c.Rb(8,"canvas",5),c.Vb(),c.Vb(),c.Vb(),c.Wb(9,"div",6),c.Wb(10,"div",7),c.Wb(11,"div",8),c.Wb(12,"table",9),c.Wb(13,"thead"),c.Wb(14,"tr"),c.Wb(15,"th",10),c.Kc(16,"#"),c.Vb(),c.Wb(17,"th",10),c.Kc(18,"Answer"),c.Vb(),c.Wb(19,"th",10),c.Kc(20,"Name"),c.Vb(),c.Wb(21,"th",10),c.Kc(22,"Mobile Number"),c.Vb(),c.Wb(23,"th",10),c.Kc(24,"District"),c.Vb(),c.Wb(25,"th",10),c.Kc(26,"Vidhan Sabha"),c.Vb(),c.Wb(27,"th",10),c.Kc(28,"Comment"),c.Vb(),c.Vb(),c.Vb(),c.Wb(29,"tbody"),c.Ic(30,u,15,7,"tr",3),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&t){const t=c.mc();c.Cb(3),c.Mc(" ",t.question.title," "),c.Cb(2),c.rc("ngForOf",t.question.options),c.Cb(3),c.rc("data",t.barChartData)("labels",t.labels)("chartType",t.barChartType)("options",t.barChartOptions),c.Cb(22),c.rc("ngForOf",t.answers)}}let m=(()=>{class t{constructor(t,e){this.route=t,this.suggestionService=e,this.barChartOptions={responsive:!0,title:{text:"Options selected!"}},this.barChartLabels=["Answers"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.loading=!0}ngOnInit(){this.route.paramMap.subscribe(t=>{this.questionId=t.get("questionId")}),this.suggestionService.getQuestionWithAnswer(this.questionId).subscribe(t=>{const e=t.data;this.question=e.question,this.answers=e.answers;const i=Object(n.countBy)(this.answers,"answer");this.barChartData=this.question.options.map(t=>i[t]||0),this.labels=this.question.options,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(o.a),c.Qb(s.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-answers"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],[4,"ngFor","ngForOf"],[2,"display","block","height","200px","width","500px"],["baseChart","",3,"data","labels","chartType","options"],[1,"row",2,"margin-top","100px"],[1,"col-12"],[2,"display","block"],[1,"table","table-striped"],["scope","col"],["scope","row"]],template:function(t,e){1&t&&(c.Ic(0,b,2,0,"ng-container",0),c.Ic(1,d,31,7,"ng-container",0)),2&t&&(c.rc("ngIf",e.loading),c.Cb(1),c.rc("ngIf",!e.loading))},directives:[r.m,r.l,a.a],styles:[""]}),t})()},vQ30:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("fXoL"),c=i("MutI"),o=i("ofXK"),s=i("tyNb"),r=i("NFeN");function a(t,e){if(1&t&&(n.Wb(0,"a",1),n.Wb(1,"mat-icon",2),n.Kc(2),n.Vb(),n.Kc(3),n.Vb()),2&t){const t=e.$implicit;n.rc("routerLink",t.link),n.Cb(2),n.Lc(t.icon),n.Cb(1),n.Mc(" ",t.title," ")}}let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Kb({type:t,selectors:[["app-side-menu"]],inputs:{menuList:"menuList"},decls:2,vars:1,consts:[["mat-list-item","","class","menu-item","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","","routerLinkActive","active",1,"menu-item",3,"routerLink"],["aria-hidden","false","aria-label","Example thumbs up SVG icon"]],template:function(t,e){1&t&&(n.Wb(0,"mat-nav-list"),n.Ic(1,a,4,3,"a",0),n.Vb()),2&t&&(n.Cb(1),n.rc("ngForOf",e.menuList))},directives:[c.c,o.l,c.a,s.e,s.d,r.a],styles:[".menu-item[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}a.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08);color:rgba(0,0,0,.7)}"]}),t})()}}]);