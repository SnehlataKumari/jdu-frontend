(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3LUQ":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("PSD3"),o=i.n(n),c=i("fXoL");let s=(()=>{class t{constructor(){}success(t){o.a.fire(t,"","success")}error(t){o.a.fire(t,"","error")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Bwgp:function(t,e,i){"use strict";i.d(e,"a",(function(){return F}));var n=i("mrSG"),o=i("U7T7"),c=i("LvDl"),s=i("1kSV"),a=i("3Pt+"),r=i("PSD3"),b=i.n(r),l=i("fXoL"),u=i("st1q"),d=i("tyNb"),m=i("ofXK"),f=i("Wp6s"),h=i("bTqV"),p=i("NFeN");function g(t,e){if(1&t&&(l.Wb(0,"option",14),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function C(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div"),l.Wb(1,"label"),l.Pc(2," Option: "),l.Rb(3,"input",15),l.Wb(4,"button",16),l.ic("click",(function(){l.Fc(t);const i=e.index;return l.mc(2).removeOption(i)})),l.Pc(5,"Remove"),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=e.index;l.Cb(3),l.tc("formControlName",t)}}function V(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div",2),l.Wb(1,"form",3),l.Wb(2,"mat-card",4),l.Wb(3,"select",5),l.Nc(4,g,2,2,"option",6),l.Vb(),l.Rb(5,"input",7),l.Wb(6,"div",8),l.Wb(7,"h3",9),l.Pc(8,"Options"),l.Wb(9,"button",10),l.ic("click",(function(){return l.Fc(t),l.mc().addOption()})),l.Wb(10,"mat-icon"),l.Pc(11,"add"),l.Vb(),l.Wb(12,"span"),l.Pc(13,"Add Options"),l.Vb(),l.Vb(),l.Vb(),l.Nc(14,C,6,1,"div",11),l.Vb(),l.Vb(),l.Wb(15,"button",12),l.ic("click",(function(){return l.Fc(t),l.mc().save()})),l.Pc(16,"Save"),l.Vb(),l.Wb(17,"button",13),l.ic("click",(function(){return l.Fc(t),l.mc().dismiss("Save click")})),l.Pc(18,"Cancel"),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.mc();l.Cb(1),l.tc("formGroup",t.questionForm),l.Cb(3),l.tc("ngForOf",t.questionKeys),l.Cb(10),l.tc("ngForOf",t.options.controls)}}function v(t,e){if(1&t&&(l.Wb(0,"div"),l.Wb(1,"b"),l.Pc(2),l.Vb(),l.Pc(3),l.Vb()),2&t){const t=l.mc(),e=t.index,i=t.$implicit;l.Cb(2),l.Rc("Question ",e+1,": "),l.Cb(1),l.Rc(" ",i.title,"")}}function W(t,e){if(1&t&&(l.Wb(0,"li"),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t," ")}}function P(t,e){if(1&t){const t=l.Xb();l.Wb(0,"mat-card",30),l.Wb(1,"ol"),l.Nc(2,W,2,1,"li",11),l.Vb(),l.Wb(3,"div",31),l.Wb(4,"button",12),l.ic("click",(function(){l.Fc(t);const e=l.mc().$implicit;return l.mc(5).showAnswers(e)})),l.Pc(5,"View Answers"),l.Vb(),l.Wb(6,"button",13),l.ic("click",(function(){l.Fc(t);const e=l.mc().$implicit;return l.mc(5).deleteQuestion(e)})),l.Pc(7,"Delete"),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.mc().$implicit;l.Cb(2),l.tc("ngForOf",t.options)}}function y(t,e){1&t&&(l.Wb(0,"ngb-panel"),l.Nc(1,v,4,2,"ng-template",28),l.Nc(2,P,8,1,"ng-template",29),l.Vb())}function N(t,e){if(1&t&&(l.Wb(0,"ngb-accordion",26,27),l.Nc(2,y,3,0,"ngb-panel",11),l.Vb()),2&t){const t=l.mc(2).$implicit,e=l.mc(2);l.Cb(2),l.tc("ngForOf",e.catogoryWiseQuestions[t])}}function w(t,e){if(1&t){const t=l.Xb();l.Wb(0,"button",24),l.ic("click",(function(){l.Fc(t);const e=l.mc().$implicit;return l.mc(2).addNewQuestion(e)})),l.Wb(1,"mat-icon"),l.Pc(2,"add"),l.Vb(),l.Pc(3,"Add new question"),l.Vb(),l.Nc(4,N,3,1,"ngb-accordion",25)}if(2&t){const t=l.mc().$implicit,e=l.mc(2);l.Cb(4),l.tc("ngIf",e.catogoryWiseQuestions&&e.catogoryWiseQuestions[t])}}const O=function(t){return{"active-tab":t}};function S(t,e){if(1&t&&(l.Wb(0,"li",21),l.Wb(1,"a",22),l.Pc(2),l.Vb(),l.Nc(3,w,5,1,"ng-template",23),l.Vb()),2&t){const t=e.$implicit,i=e.index,n=l.mc(2);l.tc("ngbNavItem",i+1),l.Cb(1),l.tc("ngClass",l.xc(3,O,i+1===n.active)),l.Cb(1),l.Rc(" ",t," ")}}function R(t,e){if(1&t){const t=l.Xb();l.Ub(0),l.Wb(1,"ul",17,18),l.ic("activeIdChange",(function(e){return l.Fc(t),l.mc().active=e})),l.Nc(3,S,4,5,"li",19),l.Vb(),l.Rb(4,"div",20),l.Tb()}if(2&t){const t=l.Cc(2),e=l.mc();l.Cb(1),l.tc("activeId",e.active),l.Cb(2),l.tc("ngForOf",e.questionKeys),l.Cb(1),l.tc("ngbNavOutlet",t)}}let F=(()=>{class t{constructor(t,e,i,n,c){this.suggestionsService=t,this.modalService=e,this.fb=i,this.router=n,this.activatedRoute=c,this.QUESTION_CATEGORY=o.e,this.active=1,this.closeResult="",this.createMode=!1}ngOnInit(){this.questionKeys=Object(o.h)(o.e),console.log(this.questionKeys),this.getAllSchemes(),this.fetchQuestions(),this.questionForm=this.fb.group({title:["",a.y.required],description:[""],category:["",a.y.required],options:this.fb.array([])})}getAllSchemes(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.suggestionsService.getAllScheme().toPromise();this.schemes=t.data,this.questionKeys=this.schemes.map(t=>t.title),console.log(this.schemes)}))}fetchQuestions(){this.suggestionsService.getAllQuestionsWithAnswers().subscribe(t=>{this.catogoryWiseQuestions=Object(c.groupBy)(t,"category")})}addOption(){this.options.push(this.fb.control(""))}get options(){return this.questionForm.get("options")}deleteQuestion(t){this.suggestionsService.deleteQuestion(t).subscribe(t=>{this.fetchQuestions(),b.a.fire("","Response saved successgully!","success")})}dismiss(t){this.createMode=!1}save(){const t=this.questionForm.value;""!==t.title?t.options.length<2?b.a.fire("","There should be atleast 2 options","error"):this.suggestionsService.createQuestion(t).subscribe(t=>{this.fetchQuestions(),b.a.fire("","Response saved successgully!","success"),this.createMode=!1}):b.a.fire("","Title field cant be blank","error")}removeOption(t){this.options.removeAt(t)}addNewQuestion(t){this.createMode=!0,this.questionForm.patchValue({category:t})}getDismissReason(t){return t===s.a.ESC?"by pressing ESC":t===s.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}showAnswers(t){this.router.navigate([t._id,"answers"],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(u.a),l.Qb(s.c),l.Qb(a.e),l.Qb(d.c),l.Qb(d.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-suggestion-questions"]],decls:2,vars:2,consts:[["class","col-lg-4 col-md-6 question-container",4,"ngIf"],[4,"ngIf"],[1,"col-lg-4","col-md-6","question-container"],[3,"formGroup"],[1,"mb10"],["formControlName","category","id","exampleFormControlSelect1",1,"medium-input","width-100"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","title","id","title","placeholder","Question Title",1,"medium-input","width-100"],["formArrayName","options",1,"mb10"],[1,"add-options"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",1,"ml10",3,"click"],[3,"value"],["type","text",3,"formControlName"],["mat-stroked-button","","color","warn",1,"ml10",3,"click"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink","",1,"tab-links",3,"ngClass"],["ngbNavContent",""],["mat-raised-button","",1,"mb10",3,"click"],["activeIds","ngb-panel-0",4,"ngIf"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"max-w"],[1,"mb10","ml20"]],template:function(t,e){1&t&&(l.Nc(0,V,19,3,"div",0),l.Nc(1,R,5,3,"ng-container",1)),2&t&&(l.tc("ngIf",e.createMode),l.Cb(1),l.tc("ngIf",!e.createMode))},directives:[m.m,a.A,a.p,a.i,f.a,a.x,a.o,a.h,m.l,a.c,a.d,h.b,p.a,a.t,a.z,s.e,s.i,s.g,s.h,m.k,s.f,s.b,s.k,s.m,s.l],styles:["a[_ngcontent-%COMP%]{background-color:#217922}.card-body[_ngcontent-%COMP%]{border:2px solid #000}.active-tab[_ngcontent-%COMP%], .tab-links[_ngcontent-%COMP%]:focus, .tab-links[_ngcontent-%COMP%]:hover{color:#217922;border-color:#398439;border-bottom-width:0}.active-tab[_ngcontent-%COMP%]{background-color:#eee}.ml10[_ngcontent-%COMP%]{margin-left:10px}.mb10[_ngcontent-%COMP%]{margin-bottom:10px}.ml20[_ngcontent-%COMP%]{margin-left:20px}.add-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.max-w[_ngcontent-%COMP%]{max-width:700px}"]}),t})()},JuEE:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("U7T7"),o=i("fXoL");let c=(()=>{class t{transform(t,...e){return n.f[t].label||"Unkown Role"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Pb({name:"role",type:t,pure:!0}),t})()},TqWN:function(t,e,i){"use strict";var n=i("mrSG"),o=i("+0xr"),c=i("M9IT"),s=i("LvDl"),a=i("0IaG"),r=i("3Pt+"),b=i("U7T7"),l=i("fXoL"),u=i("H+bZ"),d=i("N/25"),m=i("Wp6s"),f=i("kmnG"),h=i("qFsG"),p=i("d3UM"),g=i("ofXK"),C=i("bTqV"),V=i("FKr1");function v(t,e){if(1&t&&(l.Wb(0,"mat-option",16),l.Pc(1),l.Vb()),2&t){const t=e.$implicit,i=l.mc();l.tc("value",t),l.Cb(1),l.Rc(" ",i.displayRoles[t].label," ")}}function W(t,e){if(1&t&&(l.Wb(0,"mat-option",16),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function P(t,e){if(1&t&&(l.Wb(0,"mat-option",16),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function y(t,e){if(1&t&&(l.Wb(0,"mat-option",16),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function N(t,e){if(1&t&&(l.Wb(0,"mat-option",16),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function w(t,e){if(1&t&&(l.Wb(0,"p",17),l.Pc(1),l.Vb()),2&t){const t=l.mc();l.Cb(1),l.Rc(" ",t.error," ")}}let O=(()=>{class t{constructor(t,e,i,n,o){this.fb=t,this.api=e,this.authService=i,this.dialogRef=n,this.data=o,this.isCreateMode=!0,this.branchList=b.a,this.designationList=b.b,this.districtMap=b.d,this.districtList=Reflect.ownKeys(b.d),this.vidhanSabhaList=[],console.log(o.classList)}onNoClick(){this.dialogRef.close()}ngOnInit(){this.initialValues=this.data.user,this.isCreateMode=""===this.initialValues._id;const t=this.authService.getLogginedUserRole();this.displayRoles="SUPER_ADMIN"===t?Object(s.pick)(b.f,["ADMIN"]):Object(s.pick)(b.f,Object(s.filter)(Reflect.ownKeys(b.f),t=>!("ADMIN"===t||"SUPER_ADMIN"===t))),this.keys=Reflect.ownKeys(this.displayRoles),this.form=this.fb.group({_id:[this.initialValues._id],name:[this.initialValues.name,r.y.required],email:[this.initialValues.email,r.y.email],mobileNumber:[this.initialValues.mobileNumber,[r.y.required,r.y.minLength(10),r.y.maxLength(10)]],role:[this.initialValues.role||Reflect.ownKeys(this.displayRoles)[0],r.y.required],branch:[this.initialValues.branch,r.y.required],designation:[this.initialValues.designation,r.y.required],district:[this.initialValues.district,r.y.required],vidhansabha:[this.initialValues.vidhansabha,r.y.required],username:[this.initialValues.username,r.y.required]}),this.form.controls.district.valueChanges.subscribe(t=>{this.vidhanSabhaList=this.districtMap[t].map(t=>t.Vidhansabha)})}submit(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.form.valid){const t=this.form.value;let e;const{_id:i,password:o}=t,c=Object(n.b)(t,["_id","password"]);if(""==t._id)e=yield this.api.post(this.data.resourceUrl,Object.assign(Object.assign({},c),{password:o})).toPromise();else{const n=`${this.data.resourceUrl}/${i}`;e=yield this.api.put(n,t).toPromise()}this.dialogRef.close(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(r.e),l.Qb(u.a),l.Qb(d.a),l.Qb(a.e),l.Qb(a.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-create-user-form"]],inputs:{error:"error"},decls:54,vars:11,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Name","formControlName","name"],["type","text","matInput","","placeholder","User Name","formControlName","username"],["type","email","matInput","","placeholder","Email","formControlName","email"],["type","text","max","10","min","10","matInput","","placeholder","Mobile Number","formControlName","mobileNumber"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","branch"],["formControlName","designation"],["formControlName","district"],["formControlName","vidhansabha"],["class","error",4,"ngIf"],[1,"button"],["type","button","mat-button","",3,"disabled","click"],["type","submit","mat-button","",3,"disabled"],[3,"value"],[1,"error"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"mat-card"),l.Wb(2,"mat-card-title"),l.Pc(3),l.Vb(),l.Wb(4,"mat-card-content"),l.Wb(5,"form",1),l.ic("ngSubmit",(function(){return e.submit()})),l.Wb(6,"p"),l.Wb(7,"mat-form-field"),l.Rb(8,"input",2),l.Vb(),l.Vb(),l.Wb(9,"p"),l.Wb(10,"mat-form-field"),l.Rb(11,"input",3),l.Vb(),l.Vb(),l.Wb(12,"p"),l.Wb(13,"mat-form-field"),l.Rb(14,"input",4),l.Vb(),l.Vb(),l.Wb(15,"p"),l.Wb(16,"mat-form-field"),l.Rb(17,"input",5),l.Vb(),l.Vb(),l.Wb(18,"p"),l.Wb(19,"mat-form-field"),l.Wb(20,"mat-label"),l.Pc(21,"Role"),l.Vb(),l.Wb(22,"mat-select",6),l.Nc(23,v,2,2,"mat-option",7),l.Vb(),l.Vb(),l.Vb(),l.Wb(24,"p"),l.Wb(25,"mat-form-field"),l.Wb(26,"mat-label"),l.Pc(27,"Branch"),l.Vb(),l.Wb(28,"mat-select",8),l.Nc(29,W,2,2,"mat-option",7),l.Vb(),l.Vb(),l.Vb(),l.Wb(30,"p"),l.Wb(31,"mat-form-field"),l.Wb(32,"mat-label"),l.Pc(33,"Designation"),l.Vb(),l.Wb(34,"mat-select",9),l.Nc(35,P,2,2,"mat-option",7),l.Vb(),l.Vb(),l.Vb(),l.Wb(36,"p"),l.Wb(37,"mat-form-field"),l.Wb(38,"mat-label"),l.Pc(39,"District"),l.Vb(),l.Wb(40,"mat-select",10),l.Nc(41,y,2,2,"mat-option",7),l.Vb(),l.Vb(),l.Vb(),l.Wb(42,"p"),l.Wb(43,"mat-form-field"),l.Wb(44,"mat-label"),l.Pc(45,"Vidhan Sabha"),l.Vb(),l.Wb(46,"mat-select",11),l.Nc(47,N,2,2,"mat-option",7),l.Vb(),l.Vb(),l.Vb(),l.Nc(48,w,2,1,"p",12),l.Wb(49,"div",13),l.Wb(50,"button",14),l.ic("click",(function(){return e.form.reset(e.initialValues)})),l.Pc(51,"Reset"),l.Vb(),l.Wb(52,"button",15),l.Pc(53),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Cb(3),l.Qc(e.isCreateMode?"Create User":"Update User"),l.Cb(2),l.tc("formGroup",e.form),l.Cb(18),l.tc("ngForOf",e.keys),l.Cb(6),l.tc("ngForOf",e.branchList),l.Cb(6),l.tc("ngForOf",e.designationList),l.Cb(6),l.tc("ngForOf",e.districtList),l.Cb(6),l.tc("ngForOf",e.vidhanSabhaList),l.Cb(1),l.tc("ngIf",e.error),l.Cb(2),l.tc("disabled",!e.form.touched),l.Cb(2),l.tc("disabled",!e.form.valid),l.Cb(1),l.Qc(""==e.form.value._id?"Create":"Update"))},directives:[a.c,m.a,m.e,m.b,r.A,r.p,r.i,f.b,h.a,r.c,r.o,r.h,f.e,p.a,g.l,g.m,C.b,V.h],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})();var S=i("3LUQ");let R=(()=>{class t{constructor(t,e,i){this.api=t,this.alert=e,this.dialogRef=i}ngOnInit(){}onFileChange(t){this.selectedFile=t.target.files[0]}uploadFile(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.selectedFile){const e=new FormData;e.append("file",this.selectedFile);try{yield this.api.post("/users/migrate-users",e).toPromise(),this.alert.success("Users created successfully!"),this.dialogRef.close()}catch(t){this.alert.error(t.error.message)}}}))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(u.a),l.Qb(S.a),l.Qb(a.e))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-upload-users-csv-form"]],decls:6,vars:0,consts:[[1,"form-group"],["for","exampleFormControlFile1"],["type","file","accept",".csv","id","exampleFormControlFile1",1,"form-control-file",3,"change"],["type","button","mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"label",1),l.Pc(2,"Select CSV"),l.Vb(),l.Wb(3,"input",2),l.ic("change",(function(t){return e.onFileChange(t)})),l.Vb(),l.Vb(),l.Wb(4,"button",3),l.ic("click",(function(){return e.uploadFile()})),l.Pc(5,"Upload Users"),l.Vb())},directives:[C.b],styles:[""]}),t})();function F(t,e){if(1&t&&(l.Wb(0,"p",6),l.Pc(1),l.Vb()),2&t){const t=l.mc();l.Cb(1),l.Rc(" ",t.error," ")}}let x=(()=>{class t{constructor(t,e,i,n){this.fb=t,this.api=e,this.dialogRef=i,this.data=n,this.user=n.user}onNoClick(){this.dialogRef.close()}ngOnInit(){this.form=this.fb.group({password:["",r.y.required]})}submit(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.form.valid){const t=this.form.value;let e;const{password:i}=t;e=yield this.api.post(`/auth/${this.user._id}/update-password`,{newPassword:i}).toPromise(),this.dialogRef.close(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(r.e),l.Qb(u.a),l.Qb(a.e),l.Qb(a.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-change-password"]],inputs:{error:"error"},decls:13,vars:3,consts:[["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["type","password","matInput","","placeholder","Password","formControlName","password"],["class","error",4,"ngIf"],[1,"button"],["type","submit","mat-button","",3,"disabled"],[1,"error"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"mat-card"),l.Wb(2,"mat-card-title"),l.Pc(3,"Update Password"),l.Vb(),l.Wb(4,"mat-card-content"),l.Wb(5,"form",1),l.ic("ngSubmit",(function(){return e.submit()})),l.Wb(6,"p"),l.Wb(7,"mat-form-field"),l.Rb(8,"input",2),l.Vb(),l.Vb(),l.Nc(9,F,2,1,"p",3),l.Wb(10,"div",4),l.Wb(11,"button",5),l.Pc(12,"Update"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Cb(5),l.tc("formGroup",e.form),l.Cb(4),l.tc("ngIf",e.error),l.Cb(2),l.tc("disabled",!e.form.valid))},directives:[a.c,m.a,m.e,m.b,r.A,r.p,r.i,f.b,h.a,r.c,r.o,r.h,g.m,C.b],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})();var M=i("wd/R");function k(t,e){1&t&&(l.Wb(0,"th",9),l.Pc(1," Sr No "),l.Vb())}function L(t,e){if(1&t&&(l.Wb(0,"td",10),l.Pc(1),l.Vb()),2&t){const t=e.index;l.Cb(1),l.Rc(" ",t+1," ")}}function D(t,e){1&t&&(l.Wb(0,"th",9),l.Pc(1," Sr No "),l.Vb())}function I(t,e){if(1&t&&(l.Wb(0,"td",10),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.ip," ")}}function U(t,e){1&t&&(l.Wb(0,"th",9),l.Pc(1," Login Time "),l.Vb())}function Q(t,e){if(1&t&&(l.Wb(0,"td",10),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.dateTime," ")}}function _(t,e){1&t&&l.Rb(0,"tr",11)}function A(t,e){1&t&&l.Rb(0,"tr",12)}let $=(()=>{class t{constructor(t,e,i,n){this.fb=t,this.api=e,this.dialogRef=i,this.data=n,this.user=n.user}onNoClick(){this.dialogRef.close()}ngOnInit(){this.displayedColumns=["srNo","ip","loginTime"],this.fetchLoginHistory()}fetchLoginHistory(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.api.get(`/auth/${this.user._id}/get-login-details`).toPromise();this.dataSource=new o.k(t.map(t=>Object.assign(Object.assign({},t),{dateTime:M(t.date).format("DD MMM, YYYY hh:mm:ss a")})))}))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(r.e),l.Qb(u.a),l.Qb(a.e),l.Qb(a.a))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-login-history"]],inputs:{error:"error"},decls:17,vars:4,consts:[["mat-dialog-content",""],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ip"],["matColumnDef","loginTime"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"mat-card"),l.Wb(2,"mat-card-title"),l.Pc(3),l.Vb(),l.Wb(4,"mat-card-content"),l.Wb(5,"table",1),l.Ub(6,2),l.Nc(7,k,2,0,"th",3),l.Nc(8,L,2,1,"td",4),l.Tb(),l.Ub(9,5),l.Nc(10,D,2,0,"th",3),l.Nc(11,I,2,1,"td",4),l.Tb(),l.Ub(12,6),l.Nc(13,U,2,0,"th",3),l.Nc(14,Q,2,1,"td",4),l.Tb(),l.Nc(15,_,1,0,"tr",7),l.Nc(16,A,1,0,"tr",8),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&t&&(l.Cb(3),l.Rc("Login History of ",e.user.name,""),l.Cb(2),l.tc("dataSource",e.dataSource),l.Cb(10),l.tc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.tc("matRowDefColumns",e.displayedColumns))},directives:[a.c,m.a,m.e,m.b,o.j,o.c,o.e,o.b,o.g,o.i,o.d,o.a,o.f,o.h],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgot-pass-link[_ngcontent-%COMP%]{align-self:center;padding:0 16px;text-decoration:underline;font-size:smaller;font-style:italic;line-height:36px}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:unset}"]}),t})();var q=i("edFq"),T=i("NFeN"),j=i("bSwM"),K=i("JuEE");function E(t,e){if(1&t){const t=l.Xb();l.Wb(0,"div"),l.Wb(1,"button",28),l.ic("click",(function(){return l.Fc(t),l.mc().onAddResource()})),l.Wb(2,"mat-icon"),l.Pc(3,"add"),l.Vb(),l.Pc(4," Add "),l.Vb(),l.Wb(5,"button",29),l.ic("click",(function(){return l.Fc(t),l.mc().onUploadCSV()})),l.Wb(6,"mat-icon"),l.Pc(7,"publish"),l.Vb(),l.Pc(8," Upload CSV "),l.Vb(),l.Vb()}}function X(t,e){if(1&t&&(l.Wb(0,"mat-option",30),l.Pc(1),l.Vb()),2&t){const t=e.$implicit,i=l.mc();l.tc("value",t),l.Cb(1),l.Rc(" ",i.displayRoles[t].label," ")}}function H(t,e){if(1&t&&(l.Wb(0,"mat-option",30),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function G(t,e){if(1&t&&(l.Wb(0,"mat-option",30),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function z(t,e){if(1&t&&(l.Wb(0,"mat-option",30),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function B(t,e){if(1&t&&(l.Wb(0,"mat-option",30),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.tc("value",t),l.Cb(1),l.Rc(" ",t," ")}}function J(t,e){if(1&t&&(l.Wb(0,"mat-form-field"),l.Wb(1,"mat-label"),l.Pc(2,"Vidhan Sabha"),l.Vb(),l.Wb(3,"mat-select",7),l.Wb(4,"mat-option"),l.Pc(5,"None"),l.Vb(),l.Nc(6,B,2,2,"mat-option",8),l.Vb(),l.Vb()),2&t){const t=l.mc();l.Cb(3),l.tc("formControl",t.vidhanSabhaFilter),l.Cb(3),l.tc("ngForOf",t.vidhanSabhaList)}}function Y(t,e){if(1&t){const t=l.Xb();l.Wb(0,"th",32),l.Wb(1,"mat-checkbox",33),l.ic("change",(function(e){l.Fc(t);const i=l.mc(2);return e?i.masterToggle():null})),l.Vb(),l.Vb()}if(2&t){const t=l.mc(2);l.Cb(1),l.tc("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())}}function Z(t,e){if(1&t){const t=l.Xb();l.Wb(0,"td",34),l.Wb(1,"mat-checkbox",35),l.ic("click",(function(e){return l.Fc(t),e.stopPropagation()}))("change",(function(i){l.Fc(t);const n=e.$implicit,o=l.mc(2);return i?o.selection.toggle(n):null})),l.Vb(),l.Vb()}if(2&t){const t=e.$implicit,i=l.mc(2);l.Cb(1),l.tc("checked",i.selection.isSelected(t))}}function tt(t,e){1&t&&(l.Ub(0,31),l.Nc(1,Y,2,2,"th",12),l.Nc(2,Z,2,1,"td",13),l.Tb())}function et(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Name "),l.Vb())}function it(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.name," ")}}function nt(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Role "),l.Vb())}function ot(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.nc(2,"role"),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",l.oc(2,1,t.role)," ")}}function ct(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Branch "),l.Vb())}function st(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.branch," ")}}function at(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Designation "),l.Vb())}function rt(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.designation," ")}}function bt(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," District "),l.Vb())}function lt(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.district," ")}}function ut(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Vidhan Sabha "),l.Vb())}function dt(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.vidhansabha," ")}}function mt(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Username "),l.Vb())}function ft(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",t.username," ")}}function ht(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Email "),l.Vb())}function pt(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",null==t?null:t.email," ")}}function gt(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Mobile Number "),l.Vb())}function Ct(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",null==t?null:t.mobileNumber," ")}}function Vt(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Created on "),l.Vb())}function vt(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.nc(2,"date"),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",l.oc(2,1,t.createdAt)," ")}}function Wt(t,e){1&t&&(l.Ub(0,36),l.Nc(1,Vt,2,0,"th",12),l.Nc(2,vt,3,3,"td",13),l.Tb())}function Pt(t,e){1&t&&(l.Wb(0,"th",32),l.Pc(1," Update on "),l.Vb())}function yt(t,e){if(1&t&&(l.Wb(0,"td",34),l.Pc(1),l.nc(2,"date"),l.Vb()),2&t){const t=e.$implicit;l.Cb(1),l.Rc(" ",l.oc(2,1,t.updatedAt)," ")}}function Nt(t,e){1&t&&(l.Ub(0,37),l.Nc(1,Pt,2,0,"th",12),l.Nc(2,yt,3,3,"td",13),l.Tb())}function wt(t,e){1&t&&(l.Wb(0,"th",32),l.Wb(1,"div",39),l.Pc(2,"Actions"),l.Vb(),l.Vb())}function Ot(t,e){if(1&t){const t=l.Xb();l.Wb(0,"button",42),l.ic("click",(function(){l.Fc(t);const e=l.mc().$implicit;return l.mc(2).showLoginHistory(e)})),l.Pc(1,"Login History"),l.Vb()}}function St(t,e){if(1&t){const t=l.Xb();l.Wb(0,"td",34),l.Wb(1,"div",40),l.Wb(2,"button",41),l.ic("click",(function(){l.Fc(t);const i=e.$implicit;return l.mc(2).onEdit(i)})),l.Pc(3,"Edit"),l.Vb(),l.Wb(4,"button",42),l.ic("click",(function(){l.Fc(t);const i=e.$implicit;return l.mc(2).onDelete(i)})),l.Pc(5,"Delete"),l.Vb(),l.Nc(6,Ot,2,0,"button",43),l.Wb(7,"button",42),l.ic("click",(function(){l.Fc(t);const i=e.$implicit;return l.mc(2).onPasswordChange(i)})),l.Pc(8,"Change Password"),l.Vb(),l.Vb(),l.Vb()}if(2&t){const t=l.mc(2);l.Cb(6),l.tc("ngIf",t.isSuperAdmin)}}function Rt(t,e){1&t&&(l.Ub(0,38),l.Nc(1,wt,3,0,"th",12),l.Nc(2,St,9,1,"td",13),l.Tb())}function Ft(t,e){1&t&&l.Rb(0,"tr",44)}function xt(t,e){1&t&&l.Rb(0,"tr",45)}i.d(e,"a",(function(){return kt}));const Mt=function(){return[5,10,20]};let kt=(()=>{class t{constructor(t,e,i,n){this.resourceService=t,this.authService=e,this.alertService=i,this.dialog=n,this.resourceUrl="/users",this.type="user-management",this.isMessage=!1,this.isSuperAdmin=!1,this.branchList=b.a,this.designationList=b.b,this.districtMap=b.d,this.districtList=Reflect.ownKeys(b.d),this.vidhanSabhaList=[],this.nameFilter=new r.f(""),this.roleFilter=new r.f(""),this.branchFilter=new r.f(""),this.designationFilter=new r.f(""),this.districtFilter=new r.f(""),this.vidhanSabhaFilter=new r.f(""),this.filterValues={name:"",role:"",branch:"",designation:"",district:"",vidhanSabha:""}}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){this.isMessage="messages"==this.type;const t=this.authService.getLogginedUserRole();this.isSuperAdmin="SUPER_ADMIN"===t,this.displayRoles="SUPER_ADMIN"===t?Object(s.pick)(b.f,["ADMIN"]):Object(s.pick)(b.f,Object(s.filter)(Reflect.ownKeys(b.f),t=>!("ADMIN"===t||"SUPER_ADMIN"===t))),this.keys=Reflect.ownKeys(this.displayRoles);const e=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.bindFilterListeners(),this.displayedColumns=[...this.isMessage?["select"]:[],"name","branch","designation","district","vidhansabha","userName","email","mobileNumber","role",...this.isMessage?[]:["createdAt"],...this.isMessage?[]:["updatedAt"],...this.isMessage?[]:["action"]],this.resetList(e.data),this.dataSource.filterPredicate=this.createFilter()}))}bindFilterListeners(){this.nameFilter.valueChanges.subscribe(t=>{this.filterValues.name=t||"",this.dataSource.filter=JSON.stringify(this.filterValues)}),this.roleFilter.valueChanges.subscribe(t=>{this.filterValues.role=t||"",this.dataSource.filter=JSON.stringify(this.filterValues)}),this.branchFilter.valueChanges.subscribe(t=>{this.filterValues.branch=t||"",this.dataSource.filter=JSON.stringify(this.filterValues)}),this.designationFilter.valueChanges.subscribe(t=>{this.filterValues.designation=t||"",this.dataSource.filter=JSON.stringify(this.filterValues)}),this.districtFilter.valueChanges.subscribe(t=>{this.filterValues.district=t||"",this.vidhanSabhaList=this.districtMap[t]?this.districtMap[t].map(t=>t.Vidhansabha):[],this.dataSource.filter=JSON.stringify(this.filterValues)}),this.vidhanSabhaFilter.valueChanges.subscribe(t=>{this.filterValues.vidhanSabha=t||"",this.dataSource.filter=JSON.stringify(this.filterValues)})}createFilter(){return function(t,e){let i=JSON.parse(e);return-1!==t.name.toLowerCase().indexOf(i.name.toLowerCase())&&-1!==t.role.toString().toLowerCase().indexOf(i.role.toLowerCase())&&-1!==t.branch.toLowerCase().indexOf(i.branch.toLowerCase())&&-1!==t.designation.toLowerCase().indexOf(i.designation.toLowerCase())&&-1!==t.district.toLowerCase().indexOf(i.district.toLowerCase())&&-1!==t.vidhansabha.toLowerCase().indexOf(i.vidhanSabha.toLowerCase())}}reFetchResourceList(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.resourceService.fetchAll(this.resourceUrl).toPromise();this.resetList(t.data)}))}resetList(t){const e=this.filterBasedOnRole(t);this.dataSource=new o.k(e),this.dataSource.paginator=this.paginator}filterBasedOnRole(t){const e="SUPER_ADMIN"===this.authService.getLogginedUserRole()?{role:"ADMIN"}:t=>!("ADMIN"==t.role||"SUPER_ADMIN"==t.role);return Object(s.filter)(t,e)}getClassName(t){return console.log(this.classMap[t]),this.classMap.get(t)||"Class has been deleted"}onUploadCSV(){this.dialog.open(R,{width:"600px",data:{}}).afterClosed().subscribe(t=>{this.reFetchResourceList()})}showLoginHistory(t){this.dialog.open($,{width:"600px",data:{user:t}})}onChangePassword(t){this.dialog.open(x,{width:"600px",data:{user:t}})}openDialogue(t){this.dialog.open(O,{width:"600px",data:{resourceUrl:this.resourceUrl,classList:this.classList,user:t}}).afterClosed().subscribe(t=>{this.reFetchResourceList()})}onPasswordChange(t){this.dialog.open(x,{width:"600px",data:{user:t}}).afterClosed().subscribe(t=>{this.alertService.success("Password changed successfully!")})}onAddResource(){this.openDialogue({_id:"",name:"",mobileNumber:"",class:"",branch:"",designation:"",district:"",vidhansabha:"",isSubscribed:""})}onUpdate(){this.reFetchResourceList()}onDelete(t){return Object(n.a)(this,void 0,void 0,(function*(){yield this.resourceService.delete(this.resourceUrl,t).toPromise(),this.reFetchResourceList()}))}onEdit(t){return Object(n.a)(this,void 0,void 0,(function*(){this.openDialogue(t)}))}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}}return t.\u0275fac=function(e){return new(e||t)(l.Qb(q.a),l.Qb(d.a),l.Qb(S.a),l.Qb(a.b))},t.\u0275cmp=l.Kb({type:t,selectors:[["app-users-page"]],viewQuery:function(t,e){var i;1&t&&l.Lc(c.a,!0),2&t&&l.Bc(i=l.jc())&&(e.paginator=i.first)},inputs:{resourceUrl:"resourceUrl",type:"type",selection:"selection"},decls:75,vars:21,consts:[[1,"mat-elevation-z8"],[1,"resource-actions-panel"],[1,"table-heading"],[4,"ngIf"],[1,"filters"],[1,"filter"],["matInput","",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-table","",3,"dataSource"],["matColumnDef","select",4,"ngIf"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","branch"],["matColumnDef","designation"],["matColumnDef","district"],["matColumnDef","vidhansabha"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","mobileNumber"],["matColumnDef","createdAt",4,"ngIf"],["matColumnDef","updatedAt",4,"ngIf"],["matColumnDef","action","sticky","true",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-raised-button","","color","primary",1,"ml20",3,"click"],["mat-raised-button","","color","primary",1,"ml10",3,"click"],[3,"value"],["matColumnDef","select"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","action","sticky","true"],[1,"ml20"],[1,"example-flex-container2"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["mat-button","","color","warn",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"h3",2),l.Pc(3),l.Vb(),l.Nc(4,E,9,0,"div",3),l.Vb(),l.Wb(5,"div",4),l.Pc(6," Filters:\xa0\xa0 "),l.Wb(7,"mat-form-field",5),l.Wb(8,"mat-label"),l.Pc(9,"Search name"),l.Vb(),l.Rb(10,"input",6),l.Vb(),l.Wb(11,"mat-form-field"),l.Wb(12,"mat-label"),l.Pc(13,"Role"),l.Vb(),l.Wb(14,"mat-select",7),l.Wb(15,"mat-option"),l.Pc(16,"None"),l.Vb(),l.Nc(17,X,2,2,"mat-option",8),l.Vb(),l.Vb(),l.Wb(18,"mat-form-field"),l.Wb(19,"mat-label"),l.Pc(20,"Branch"),l.Vb(),l.Wb(21,"mat-select",7),l.Wb(22,"mat-option"),l.Pc(23,"None"),l.Vb(),l.Nc(24,H,2,2,"mat-option",8),l.Vb(),l.Vb(),l.Wb(25,"mat-form-field"),l.Wb(26,"mat-label"),l.Pc(27,"Designation"),l.Vb(),l.Wb(28,"mat-select",7),l.Wb(29,"mat-option"),l.Pc(30,"None"),l.Vb(),l.Nc(31,G,2,2,"mat-option",8),l.Vb(),l.Vb(),l.Wb(32,"mat-form-field"),l.Wb(33,"mat-label"),l.Pc(34,"District"),l.Vb(),l.Wb(35,"mat-select",7),l.Wb(36,"mat-option"),l.Pc(37,"None"),l.Vb(),l.Nc(38,z,2,2,"mat-option",8),l.Vb(),l.Vb(),l.Nc(39,J,7,2,"mat-form-field",3),l.Vb(),l.Wb(40,"table",9),l.Nc(41,tt,3,0,"ng-container",10),l.Ub(42,11),l.Nc(43,et,2,0,"th",12),l.Nc(44,it,2,1,"td",13),l.Tb(),l.Ub(45,14),l.Nc(46,nt,2,0,"th",12),l.Nc(47,ot,3,3,"td",13),l.Tb(),l.Ub(48,15),l.Nc(49,ct,2,0,"th",12),l.Nc(50,st,2,1,"td",13),l.Tb(),l.Ub(51,16),l.Nc(52,at,2,0,"th",12),l.Nc(53,rt,2,1,"td",13),l.Tb(),l.Ub(54,17),l.Nc(55,bt,2,0,"th",12),l.Nc(56,lt,2,1,"td",13),l.Tb(),l.Ub(57,18),l.Nc(58,ut,2,0,"th",12),l.Nc(59,dt,2,1,"td",13),l.Tb(),l.Ub(60,19),l.Nc(61,mt,2,0,"th",12),l.Nc(62,ft,2,1,"td",13),l.Tb(),l.Ub(63,20),l.Nc(64,ht,2,0,"th",12),l.Nc(65,pt,2,1,"td",13),l.Tb(),l.Ub(66,21),l.Nc(67,gt,2,0,"th",12),l.Nc(68,Ct,2,1,"td",13),l.Tb(),l.Nc(69,Wt,3,0,"ng-container",22),l.Nc(70,Nt,3,0,"ng-container",23),l.Nc(71,Rt,3,0,"ng-container",24),l.Nc(72,Ft,1,0,"tr",25),l.Nc(73,xt,1,0,"tr",26),l.Vb(),l.Rb(74,"mat-paginator",27),l.Vb()),2&t&&(l.Cb(3),l.Rc(" ",e.isMessage?"Sent to":"Users"," "),l.Cb(1),l.tc("ngIf",!e.isMessage),l.Cb(6),l.tc("formControl",e.nameFilter),l.Cb(4),l.tc("formControl",e.roleFilter),l.Cb(3),l.tc("ngForOf",e.keys),l.Cb(4),l.tc("formControl",e.branchFilter),l.Cb(3),l.tc("ngForOf",e.branchList),l.Cb(4),l.tc("formControl",e.designationFilter),l.Cb(3),l.tc("ngForOf",e.designationList),l.Cb(4),l.tc("formControl",e.districtFilter),l.Cb(3),l.tc("ngForOf",e.districtList),l.Cb(1),l.tc("ngIf",e.vidhanSabhaList.length>0),l.Cb(1),l.tc("dataSource",e.dataSource),l.Cb(1),l.tc("ngIf",e.isMessage),l.Cb(28),l.tc("ngIf",!e.isMessage),l.Cb(1),l.tc("ngIf",!e.isMessage),l.Cb(1),l.tc("ngIf",!e.isMessage),l.Cb(1),l.tc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.tc("matRowDefColumns",e.displayedColumns),l.Cb(1),l.tc("pageSizeOptions",l.wc(20,Mt)))},directives:[g.m,f.b,f.e,h.a,r.c,r.o,r.g,p.a,V.h,g.l,o.j,o.c,o.e,o.b,o.g,o.i,c.a,C.b,T.a,o.d,j.a,o.a,o.f,o.h],pipes:[K.a,g.e],styles:["table[_ngcontent-%COMP%]{width:100%}.resource-actions-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 20px}.ml20[_ngcontent-%COMP%]{margin-left:20px}.filters[_ngcontent-%COMP%], .ml10[_ngcontent-%COMP%]{margin-left:10px}.filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:10px}"]}),t})()},edFq:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("fXoL"),o=i("H+bZ");let c=(()=>{class t{constructor(t){this.api=t}fetchAll(t){return this.api.get(t)}delete(t,e){return this.api.delete(`${t}/${e._id}`)}}return t.\u0275fac=function(e){return new(e||t)(n.ec(o.a))},t.\u0275prov=n.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"k+vH":function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i("LvDl"),o=i("fXoL"),c=i("tyNb"),s=i("st1q"),a=i("ofXK"),r=i("Wp6s"),b=i("LPYB");function l(t,e){1&t&&(o.Ub(0),o.Pc(1,"Loading..."),o.Tb())}function u(t,e){if(1&t&&(o.Wb(0,"li",17),o.Pc(1),o.Vb()),2&t){const t=e.$implicit;o.Cb(1),o.Rc(" ",t," ")}}function d(t,e){if(1&t&&(o.Wb(0,"tr"),o.Wb(1,"th",18),o.Pc(2),o.Vb(),o.Wb(3,"td"),o.Pc(4),o.Vb(),o.Wb(5,"td"),o.Pc(6),o.Vb(),o.Wb(7,"td"),o.Pc(8),o.Vb(),o.Wb(9,"td"),o.Pc(10),o.Vb(),o.Wb(11,"td"),o.Pc(12),o.Vb(),o.Wb(13,"td"),o.Pc(14),o.Vb(),o.Vb()),2&t){const t=e.$implicit,i=e.index;o.Cb(2),o.Qc(i+1),o.Cb(2),o.Qc(t.answer),o.Cb(2),o.Qc(t.name),o.Cb(2),o.Qc(t.mobileNumber),o.Cb(2),o.Qc(t.destrict),o.Cb(2),o.Qc(t.vidhanSabha),o.Cb(2),o.Qc(t.comment)}}function m(t,e){if(1&t&&(o.Ub(0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"mat-card",3),o.Wb(4,"div",4),o.Pc(5),o.Vb(),o.Wb(6,"ol",5),o.Nc(7,u,2,1,"li",6),o.Vb(),o.Vb(),o.Vb(),o.Wb(8,"div",7),o.Wb(9,"mat-card",8),o.Wb(10,"div",9),o.Rb(11,"canvas",10),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",11),o.Wb(13,"div",12),o.Wb(14,"mat-card"),o.Wb(15,"div",13),o.Wb(16,"table",14),o.Wb(17,"thead"),o.Wb(18,"tr"),o.Wb(19,"th",15),o.Pc(20,"#"),o.Vb(),o.Wb(21,"th",15),o.Pc(22,"Answer"),o.Vb(),o.Wb(23,"th",15),o.Pc(24,"Name"),o.Vb(),o.Wb(25,"th",15),o.Pc(26,"Mobile Number"),o.Vb(),o.Wb(27,"th",15),o.Pc(28,"District"),o.Vb(),o.Wb(29,"th",15),o.Pc(30,"Vidhan Sabha"),o.Vb(),o.Wb(31,"th",15),o.Pc(32,"Comment"),o.Vb(),o.Vb(),o.Vb(),o.Wb(33,"tbody"),o.Nc(34,d,15,7,"tr",16),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Tb()),2&t){const t=o.mc();o.Cb(5),o.Qc(t.question.title),o.Cb(2),o.tc("ngForOf",t.question.options),o.Cb(4),o.tc("datasets",t.barChartData)("labels",t.labels)("chartType",t.barChartType)("options",t.barChartOptions),o.Cb(23),o.tc("ngForOf",t.answers)}}let f=(()=>{class t{constructor(t,e){this.route=t,this.suggestionService=e,this.barChartOptions={responsive:!0,title:{text:"Options selected!"}},this.barChartLabels=["Answers"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.loading=!0}ngOnInit(){this.route.paramMap.subscribe(t=>{this.questionId=t.get("questionId")}),this.suggestionService.getQuestionWithAnswer(this.questionId).subscribe(t=>{const e=t.data;this.question=e.question,this.answers=e.answers;const i=Object(n.countBy)(this.answers,"answer");this.barChartData=[{data:this.question.options.map(t=>i[t]||0),label:"Number of Answers"}],this.labels=this.question.options,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(c.a),o.Qb(s.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-answers"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-12","col-lg-4","question"],[2,"min-height","250px"],[2,"margin-bottom","10px","font-size","16px"],[2,"margin-left","-20px","font-size","16px"],["style","margin-top: 5px;",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-8","graph"],[2,"min-height","200px","display","flex","justify-content","center"],[2,"width","500px"],["baseChart","",3,"datasets","labels","chartType","options"],[1,"row","question-table"],[1,"col-md-12"],[2,"display","block"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[2,"margin-top","5px"],["scope","row"]],template:function(t,e){1&t&&(o.Nc(0,l,2,0,"ng-container",0),o.Nc(1,m,35,7,"ng-container",0)),2&t&&(o.tc("ngIf",e.loading),o.Cb(1),o.tc("ngIf",!e.loading))},directives:[a.m,r.a,a.l,b.a],styles:["@media only screen and (min-width:1200px){.question[_ngcontent-%COMP%]{margin-right:0;padding-right:0}}@media only screen and (max-width:1200px){.graph[_ngcontent-%COMP%]{margin-top:10px}}.question-table[_ngcontent-%COMP%]{margin-top:10px}@media only screen and (min-width:1200px){.question-table[_ngcontent-%COMP%]{margin-top:50px}}"]}),t})()},"omi/":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("fXoL"),o=i("g23F"),c=i("ofXK"),s=i("bTqV"),a=i("NFeN");const r=function(t){return{"color-change":t}};let b=(()=>{class t{constructor(t){this.documentsService=t,this.done=!1,this.onUploadSuccess=new n.o}ngOnInit(){}onFileChange(t){this.file=t.target.files[0],this.documentsService.progress.next(0),this.done=!1}upload(){if(!this.file)return;const t=new FormData;t.append("file",this.file),this.documentsService.uploadFile(t).subscribe(t=>{this.file=null,t&&(this.done=!0),this.onUploadSuccess.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(o.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-upload"]],outputs:{onUploadSuccess:"onUploadSuccess"},decls:12,vars:13,consts:[[1,"custom-file"],["type","file","id","customFile",1,"custom-file-input",3,"change"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"ngClass"],["mat-raised-button","","type","button",3,"click"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"input",1),n.ic("change",(function(t){return e.onFileChange(t)})),n.Vb(),n.Vb(),n.Wb(2,"div",2),n.Wb(3,"div",3),n.nc(4,"async"),n.nc(5,"async"),n.Pc(6),n.nc(7,"async"),n.Vb(),n.Vb(),n.Wb(8,"button",4),n.ic("click",(function(){return e.upload()})),n.Wb(9,"mat-icon"),n.Pc(10,"publish"),n.Vb(),n.Pc(11,"Click to upload"),n.Vb()),2&t&&(n.Cb(3),n.Mc("width",n.oc(4,5,e.documentsService.progress)+"%"),n.tc("ngClass",n.xc(11,r,e.done)),n.Db("aria-valuenow",n.oc(5,7,e.documentsService.progress)),n.Cb(3),n.Rc(" ",n.oc(7,9,e.documentsService.progress),"% "))},directives:[c.k,s.b,a.a],pipes:[c.b],styles:[".color-change[_ngcontent-%COMP%]{background-color:#4caf50}"]}),t})()},vQ30:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),o=i("N/25"),c=i("MutI"),s=i("ofXK"),a=i("NFeN"),r=i("tyNb");function b(t,e){if(1&t&&(n.Wb(0,"a",3),n.Wb(1,"mat-icon",4),n.Pc(2),n.Vb(),n.Pc(3),n.Vb()),2&t){const t=e.$implicit;n.tc("routerLink",t.link),n.Cb(2),n.Qc(t.icon),n.Cb(1),n.Rc("\xa0",t.title," ")}}let l=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}onLogout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(o.a))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-side-menu"]],inputs:{menuList:"menuList"},decls:6,vars:1,consts:[["mat-list-item","","class","menu-item","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",1,"menu-item",3,"click"],["aria-hidden","false","aria-label","Example home icon"],["mat-list-item","","routerLinkActive","active",1,"menu-item",3,"routerLink"],["aria-hidden","false","aria-label","Example thumbs up SVG icon"]],template:function(t,e){1&t&&(n.Wb(0,"mat-nav-list"),n.Nc(1,b,4,3,"a",0),n.Wb(2,"a",1),n.ic("click",(function(){return e.onLogout()})),n.Wb(3,"mat-icon",2),n.Pc(4,"power_settings_new"),n.Vb(),n.Pc(5,"\xa0Logout "),n.Vb(),n.Vb()),2&t&&(n.Cb(1),n.tc("ngForOf",e.menuList))},directives:[c.c,s.l,c.a,a.a,r.f,r.e],styles:[".menu-item[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}a.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08);color:rgba(0,0,0,.7)}"]}),t})()}}]);