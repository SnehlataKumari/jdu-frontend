(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/biI":function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),o=n("tyNb"),c=n("fXoL");let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["app-super-admin"]],decls:1,vars:0,template:function(t,e){1&t&&c.Rb(0,"router-outlet")},directives:[o.f],styles:[""]}),t})();var r=n("N/25"),a=n("/t3+"),b=n("XhcP"),u=n("vQ30");let l=(()=>{class t{constructor(t){this.authService=t,this.menuList=[{link:"/admin/users",title:"Manage Users",icon:"supervised_user_circle"},{link:"/admin/suggestions",title:"Manage suggestion questions",icon:"supervised_user_circle"}]}ngOnInit(){}onLogout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(r.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-dashboard"]],decls:13,vars:1,consts:[["routerLink","/dashboard"],[1,"example-spacer"],[1,"btn","logout-button",3,"click"],[1,"example-container"],["mode","side","opened","",1,"example-sidenav"],["drawer",""],[3,"menuList"],[1,"dashboard-container"]],template:function(t,e){1&t&&(c.Wb(0,"mat-toolbar"),c.Wb(1,"mat-toolbar-row"),c.Wb(2,"a",0),c.Kc(3,"Admin Panel"),c.Vb(),c.Rb(4,"span",1),c.Wb(5,"a",2),c.ic("click",(function(){return e.onLogout()})),c.Kc(6,"Logout"),c.Vb(),c.Vb(),c.Vb(),c.Wb(7,"mat-drawer-container",3),c.Wb(8,"mat-drawer",4,5),c.Rb(10,"app-side-menu",6),c.Vb(),c.Wb(11,"div",7),c.Rb(12,"router-outlet"),c.Vb(),c.Vb()),2&t&&(c.Cb(10),c.rc("menuList",e.menuList))},directives:[a.a,a.c,o.d,b.b,b.a,u.a,o.f],styles:[".example-container[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,0,0,.5)}.dashboard-container[_ngcontent-%COMP%], .example-container[_ngcontent-%COMP%]{height:calc(100% - 64px)}.example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{width:223px}.dashboard-container[_ngcontent-%COMP%]{padding:16px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.logout-button[_ngcontent-%COMP%]{cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:#2b78fe}"]}),t})();var d=n("TqWN"),p=n("PCNd"),g=n("U7T7"),h=n("LvDl"),m=n("1kSV"),f=n("3Pt+"),v=n("PSD3"),C=n.n(v),W=n("st1q"),V=n("S/Mv");function O(t,e){if(1&t&&(c.Wb(0,"option",10),c.Rb(1,"app-constant",11),c.Vb()),2&t){const t=e.$implicit,n=c.mc(2);c.rc("value",t),c.Cb(1),c.rc("constant",n.QUESTION_CATEGORY)("isBadge",!1)("code",t)}}function w(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div"),c.Wb(1,"label"),c.Kc(2," Option: "),c.Rb(3,"input",12),c.Wb(4,"button",8),c.ic("click",(function(){c.Bc(t);const n=e.index;return c.mc(2).removeOption(n)})),c.Kc(5,"Remove"),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=e.index;c.Cb(3),c.rc("formControlName",t)}}function y(t,e){if(1&t){const t=c.Xb();c.Ub(0),c.Wb(1,"form",1),c.Wb(2,"div",2),c.Wb(3,"select",3),c.Ic(4,O,2,4,"option",4),c.Vb(),c.Vb(),c.Wb(5,"div",2),c.Rb(6,"input",5),c.Vb(),c.Wb(7,"div",6),c.Wb(8,"h3"),c.Kc(9,"Options"),c.Vb(),c.Ic(10,w,6,1,"div",7),c.Wb(11,"button",8),c.ic("click",(function(){return c.Bc(t),c.mc().addOption()})),c.Kc(12,"Add Option"),c.Vb(),c.Vb(),c.Wb(13,"button",9),c.ic("click",(function(){return c.Bc(t),c.mc().save()})),c.Kc(14,"Save"),c.Vb(),c.Wb(15,"button",9),c.ic("click",(function(){return c.Bc(t),c.mc().dismiss("Save click")})),c.Kc(16,"Cancel"),c.Vb(),c.Vb(),c.Tb()}if(2&t){const t=c.mc();c.Cb(1),c.rc("formGroup",t.questionForm),c.Cb(3),c.rc("ngForOf",t.questionKeys),c.Cb(6),c.rc("ngForOf",t.options.controls)}}function I(t,e){if(1&t&&(c.Wb(0,"div"),c.Wb(1,"b"),c.Kc(2),c.Vb(),c.Kc(3),c.Vb()),2&t){const t=c.mc(),e=t.index,n=t.$implicit;c.Cb(2),c.Mc("Question ",e+1,": "),c.Cb(1),c.Mc(" ",n.title,"")}}function K(t,e){if(1&t&&(c.Wb(0,"li"),c.Kc(1),c.Vb()),2&t){const t=e.$implicit;c.Cb(1),c.Mc(" ",t," ")}}function M(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",8),c.ic("click",(function(){c.Bc(t);const e=c.mc().$implicit;return c.mc(5).deleteQuestion(e)})),c.Kc(1,"Delete"),c.Vb(),c.Wb(2,"button",8),c.ic("click",(function(){c.Bc(t);const e=c.mc().$implicit;return c.mc(5).showAnswers(e)})),c.Kc(3,"View Answers"),c.Vb(),c.Wb(4,"ol"),c.Ic(5,K,2,1,"li",7),c.Vb()}if(2&t){const t=c.mc().$implicit;c.Cb(5),c.rc("ngForOf",t.options)}}function x(t,e){1&t&&(c.Wb(0,"ngb-panel"),c.Ic(1,I,4,2,"ng-template",23),c.Ic(2,M,6,1,"ng-template",24),c.Vb())}function Q(t,e){if(1&t&&(c.Wb(0,"ngb-accordion",21,22),c.Ic(2,x,3,0,"ngb-panel",7),c.Vb()),2&t){const t=c.mc(2).$implicit,e=c.mc(2);c.Cb(2),c.rc("ngForOf",e.catogoryWiseQuestions[t])}}function q(t,e){if(1&t){const t=c.Xb();c.Wb(0,"button",8),c.ic("click",(function(){c.Bc(t);const e=c.mc().$implicit;return c.mc(2).addNewQuestion(e)})),c.Kc(1,"Add new question"),c.Vb(),c.Ic(2,Q,3,1,"ngb-accordion",20)}if(2&t){const t=c.mc().$implicit,e=c.mc(2);c.Cb(2),c.rc("ngIf",e.catogoryWiseQuestions&&e.catogoryWiseQuestions[t])}}function N(t,e){if(1&t&&(c.Wb(0,"li",17),c.Wb(1,"a",18),c.Rb(2,"app-constant",11),c.Vb(),c.Ic(3,q,3,1,"ng-template",19),c.Vb()),2&t){const t=e.$implicit,n=e.index,i=c.mc(2);c.rc("ngbNavItem",n+1),c.Cb(2),c.rc("constant",i.QUESTION_CATEGORY)("isBadge",!1)("code",t)}}function k(t,e){if(1&t){const t=c.Xb();c.Ub(0),c.Wb(1,"ul",13,14),c.ic("activeIdChange",(function(e){return c.Bc(t),c.mc().active=e})),c.Ic(3,N,4,4,"li",15),c.Vb(),c.Rb(4,"div",16),c.Tb()}if(2&t){const t=c.zc(2),e=c.mc();c.Cb(1),c.rc("activeId",e.active),c.Cb(2),c.rc("ngForOf",e.questionKeys),c.Cb(1),c.rc("ngbNavOutlet",t)}}let L=(()=>{class t{constructor(t,e,n,i){this.suggestionsService=t,this.modalService=e,this.fb=n,this.router=i,this.QUESTION_CATEGORY=g.b,this.active=1,this.closeResult="",this.createMode=!1}ngOnInit(){this.questionKeys=Object(g.e)(g.b),this.fetchQuestions(),this.questionForm=this.fb.group({title:["",f.v.required],description:[""],category:["",f.v.required],options:this.fb.array([])})}fetchQuestions(){this.suggestionsService.getAllQuestionsWithAnswers().subscribe(t=>{this.catogoryWiseQuestions=Object(h.groupBy)(t,"category")})}addOption(){this.options.push(this.fb.control(""))}get options(){return this.questionForm.get("options")}deleteQuestion(t){this.suggestionsService.deleteQuestion(t).subscribe(t=>{this.fetchQuestions(),C.a.fire("","Response saved successgully!","success")})}dismiss(t){this.createMode=!1}save(){const t=this.questionForm.value;""!==t.title?t.options.length<2?C.a.fire("","There should be atleast 2 options","error"):this.suggestionsService.createQuestion(t).subscribe(t=>{this.fetchQuestions(),C.a.fire("","Response saved successgully!","success"),this.createMode=!1}):C.a.fire("","Title field cant be blank","error")}removeOption(t){this.options.removeAt(t)}addNewQuestion(t){this.createMode=!0,this.questionForm.patchValue({category:t})}getDismissReason(t){return t===m.a.ESC?"by pressing ESC":t===m.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}showAnswers(t){this.router.navigate(["admin","questions",t._id,"answers"])}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(W.a),c.Qb(m.c),c.Qb(f.e),c.Qb(o.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-suggestion-questions"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"formGroup"],[1,"col-md-12"],["formControlName","category","id","exampleFormControlSelect1",1,"medium-input","width-100"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","title","id","title","placeholder","Question Title",1,"medium-input","width-100"],["formArrayName","options"],[4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"value"],[3,"constant","isBadge","code"],["type","text",3,"formControlName"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["activeIds","ngb-panel-0",4,"ngIf"],["activeIds","ngb-panel-0"],["acc","ngbAccordion"],["ngbPanelTitle",""],["ngbPanelContent",""]],template:function(t,e){1&t&&(c.Ic(0,y,17,3,"ng-container",0),c.Ic(1,k,5,3,"ng-container",0)),2&t&&(c.rc("ngIf",e.createMode),c.Cb(1),c.rc("ngIf",!e.createMode))},directives:[i.m,f.x,f.m,f.g,f.u,f.l,f.f,i.l,f.c,f.d,f.q,f.w,V.a,m.e,m.i,m.g,m.h,m.f,m.b,m.k,m.m,m.l],styles:["a[_ngcontent-%COMP%]{background-color:#217922}.card-body[_ngcontent-%COMP%]{border:2px solid #000}"]}),t})();var P=n("LPYB");function S(t,e){1&t&&(c.Ub(0),c.Kc(1,"Loading..."),c.Tb())}function F(t,e){if(1&t&&(c.Wb(0,"li"),c.Kc(1),c.Vb()),2&t){const t=e.$implicit;c.Cb(1),c.Mc(" ",t," ")}}function _(t,e){if(1&t&&(c.Wb(0,"tr"),c.Wb(1,"th",11),c.Kc(2),c.Vb(),c.Wb(3,"td"),c.Kc(4),c.Vb(),c.Wb(5,"td"),c.Kc(6),c.Vb(),c.Wb(7,"td"),c.Kc(8),c.Vb(),c.Wb(9,"td"),c.Kc(10),c.Vb(),c.Wb(11,"td"),c.Kc(12),c.Vb(),c.Wb(13,"td"),c.Kc(14),c.Vb(),c.Vb()),2&t){const t=e.$implicit,n=e.index;c.Cb(2),c.Lc(n+1),c.Cb(2),c.Lc(t.answer),c.Cb(2),c.Lc(t.name),c.Cb(2),c.Lc(t.mobileNumber),c.Cb(2),c.Lc(t.destrict),c.Cb(2),c.Lc(t.vidhanSabha),c.Cb(2),c.Lc(t.comment)}}function A(t,e){if(1&t&&(c.Ub(0),c.Wb(1,"div",1),c.Wb(2,"div",2),c.Kc(3),c.Wb(4,"ol"),c.Ic(5,F,2,1,"li",3),c.Vb(),c.Vb(),c.Wb(6,"div",2),c.Wb(7,"div",4),c.Rb(8,"canvas",5),c.Vb(),c.Vb(),c.Vb(),c.Wb(9,"div",6),c.Wb(10,"div",7),c.Wb(11,"div",8),c.Wb(12,"table",9),c.Wb(13,"thead"),c.Wb(14,"tr"),c.Wb(15,"th",10),c.Kc(16,"#"),c.Vb(),c.Wb(17,"th",10),c.Kc(18,"Answer"),c.Vb(),c.Wb(19,"th",10),c.Kc(20,"Name"),c.Vb(),c.Wb(21,"th",10),c.Kc(22,"Mobile Number"),c.Vb(),c.Wb(23,"th",10),c.Kc(24,"District"),c.Vb(),c.Wb(25,"th",10),c.Kc(26,"Vidhan Sabha"),c.Vb(),c.Wb(27,"th",10),c.Kc(28,"Comment"),c.Vb(),c.Vb(),c.Vb(),c.Wb(29,"tbody"),c.Ic(30,_,15,7,"tr",3),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()),2&t){const t=c.mc();c.Cb(3),c.Mc(" ",t.question.title," "),c.Cb(2),c.rc("ngForOf",t.question.options),c.Cb(3),c.rc("data",t.barChartData)("labels",t.labels)("chartType",t.barChartType)("options",t.barChartOptions),c.Cb(22),c.rc("ngForOf",t.answers)}}const T=[{path:"",component:s,children:[{path:"auth",loadChildren:()=>Promise.resolve().then(n.bind(null,"Yj9t")).then(t=>t.AuthModule)},{path:"",component:l,children:[{path:"users",component:d.a},{path:"suggestions",component:L},{path:"questions/:questionId/answers",component:(()=>{class t{constructor(t,e){this.route=t,this.suggestionService=e,this.barChartOptions={responsive:!0,title:{text:"Options selected!"}},this.barChartLabels=["Answers"],this.barChartType="bar",this.barChartLegend=!0,this.barChartPlugins=[],this.barChartData=[],this.loading=!0}ngOnInit(){this.route.paramMap.subscribe(t=>{this.questionId=t.get("questionId")}),this.suggestionService.getQuestionWithAnswer(this.questionId).subscribe(t=>{const e=t.data;this.question=e.question,this.answers=e.answers;const n=Object(h.countBy)(this.answers,"answer");this.barChartData=this.question.options.map(t=>n[t]||0),this.labels=this.question.options,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(o.a),c.Qb(W.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["app-answers"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-6"],[4,"ngFor","ngForOf"],[2,"display","block","height","200px","width","500px"],["baseChart","",3,"data","labels","chartType","options"],[1,"row",2,"margin-top","100px"],[1,"col-12"],[2,"display","block"],[1,"table","table-striped"],["scope","col"],["scope","row"]],template:function(t,e){1&t&&(c.Ic(0,S,2,0,"ng-container",0),c.Ic(1,A,31,7,"ng-container",0)),2&t&&(c.rc("ngIf",e.loading),c.Cb(1),c.rc("ngIf",!e.loading))},directives:[i.m,i.l,P.a],styles:[""]}),t})()}]}]}];let R=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[p.a,o.e.forChild(T)],o.e]}),t})();n.d(e,"SuperAdminModule",(function(){return B}));let B=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[i.c,p.a,R]]}),t})()}}]);